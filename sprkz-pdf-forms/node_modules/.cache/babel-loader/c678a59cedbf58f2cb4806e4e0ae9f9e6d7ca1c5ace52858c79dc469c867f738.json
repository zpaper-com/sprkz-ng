{"ast":null,"code":"import { GLOBAL_OBJ, getClient, getCurrentScope, captureFeedback, getLocationHref, isBrowser, debug, addIntegration, getIsolationScope, getGlobalScope } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = GLOBAL_OBJ;\nconst DOCUMENT = WINDOW.document;\nconst NAVIGATOR = WINDOW.navigator;\nconst TRIGGER_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst CONFIRM_BUTTON_LABEL = 'Confirm';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nconst IS_REQUIRED_LABEL = '(required)';\nconst ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nconst REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\nconst SUCCESS_MESSAGE_TIMEOUT = 5000;\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nconst sendFeedback = (params, hint = {\n  includeReplay: true\n}) => {\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = getClient();\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n  if (params.tags && Object.keys(params.tags).length) {\n    getCurrentScope().setTags(params.tags);\n  }\n  const eventId = captureFeedback({\n    source: FEEDBACK_API_SOURCE,\n    url: getLocationHref(),\n    ...params\n  }, hint);\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30000);\n    const cleanup = client.on('afterSendEvent', (event, response) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (response && typeof response.statusCode === 'number' && response.statusCode >= 200 && response.statusCode < 300) {\n        return resolve(eventId);\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 0) {\n        return reject('Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker.');\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 403) {\n        return reject('Unable to send Feedback. This could be because this domain is not in your list of allowed domains.');\n      }\n      return reject('Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker');\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__;\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nfunction isScreenshotSupported() {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(defaultOptions, optionOverrides) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data, eventId) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: error => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight\n    }\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction FeedbackIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z'\n  });\n  svg.appendChild(g).appendChild(path);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nfunction Actor({\n  triggerLabel,\n  triggerAriaLabel,\n  shadow,\n  styleNonce\n}) {\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n  const style = createActorStyles(styleNonce);\n  return {\n    el,\n    appendToDom() {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom() {\n      el.remove();\n      style.remove();\n    },\n    show() {\n      el.ariaHidden = 'false';\n    },\n    hide() {\n      el.ariaHidden = 'true';\n    }\n  };\n}\nconst PURPLE = 'rgba(88, 74, 192, 1)';\nconst DEFAULT_LIGHT = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)'\n};\nconst DEFAULT_DARK = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)'\n};\nfunction getThemedCssVariables(theme) {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles({\n  colorScheme,\n  themeDark,\n  themeLight,\n  styleNonce\n}) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? {\n    ...DEFAULT_DARK,\n    ...themeDark\n  } : {\n    ...DEFAULT_LIGHT,\n    ...themeLight\n  })}\n}\n\n${colorScheme === 'system' ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({\n    ...DEFAULT_DARK,\n    ...themeDark\n  })}\n  }\n}` : ''}\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nconst buildFeedbackIntegration = ({\n  lazyLoadIntegration,\n  getModalIntegration,\n  getScreenshotIntegration\n}) => {\n  const feedbackIntegration = ({\n    // FeedbackGeneralConfiguration\n    id = 'sentry-feedback',\n    autoInject = true,\n    showBranding = true,\n    isEmailRequired = false,\n    isNameRequired = false,\n    showEmail = true,\n    showName = true,\n    enableScreenshot = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username'\n    },\n    tags,\n    styleNonce,\n    scriptNonce,\n    // FeedbackThemeConfiguration\n    colorScheme = 'system',\n    themeLight = {},\n    themeDark = {},\n    // FeedbackTextConfiguration\n    addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n    emailLabel = EMAIL_LABEL,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    formTitle = FORM_TITLE,\n    isRequiredLabel = IS_REQUIRED_LABEL,\n    messageLabel = MESSAGE_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n    triggerLabel = TRIGGER_LABEL,\n    triggerAriaLabel = '',\n    // FeedbackCallbacks\n    onFormOpen,\n    onFormClose,\n    onSubmitSuccess,\n    onSubmitError,\n    onFormSubmitted\n  } = {}) => {\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n      colorScheme,\n      themeDark,\n      themeLight,\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted\n    };\n    let _shadow = null;\n    let _subscriptions = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = options => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n        _shadow = host.attachShadow({\n          mode: 'open'\n        });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow;\n    };\n    const _loadAndRenderDialog = async options => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n      let modalIntegration;\n      let screenshotIntegration;\n      try {\n        const modalIntegrationFn = getModalIntegration ? getModalIntegration() : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn();\n        addIntegration(modalIntegration);\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.');\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n      try {\n        const screenshotIntegrationFn = screenshotRequired ? getScreenshotIntegration ? getScreenshotIntegration() : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce) : undefined;\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn();\n          addIntegration(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          }\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options)\n      });\n      return dialog;\n    };\n    const _attachTo = (el, optionOverrides = {}) => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const targetEl = typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n      if (!targetEl) {\n        DEBUG_BUILD && debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n      let dialog = null;\n      const handleClick = async () => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            }\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = () => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n    const _createActor = (optionOverrides = {}) => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        }\n      });\n      return actor;\n    };\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!isBrowser() || !_options.autoInject) {\n          return;\n        }\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget(optionOverrides = {}) {\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm(optionOverrides = {}) {\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove() {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      }\n    };\n  };\n  return feedbackIntegration;\n};\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nfunction getFeedback() {\n  const client = getClient();\n  return client?.getIntegrationByName('Feedback');\n}\nvar n,\n  l$1,\n  u$1,\n  i$1,\n  o$1,\n  r$1,\n  f$1,\n  c$1 = {},\n  s$1 = [],\n  a$1 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,\n  h$1 = Array.isArray;\nfunction v$1(n, l) {\n  for (var u in l) n[u] = l[u];\n  return n;\n}\nfunction p$1(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction y$1(l, u, t) {\n  var i,\n    o,\n    r,\n    f = {};\n  for (r in u) \"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for (r in l.defaultProps) void 0 === f[r] && (f[r] = l.defaultProps[r]);\n  return d$1(l, f, i, o, null);\n}\nfunction d$1(n, t, i, o, r) {\n  var f = {\n    type: n,\n    props: t,\n    key: i,\n    ref: o,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    constructor: void 0,\n    __v: null == r ? ++u$1 : r,\n    __i: -1,\n    __u: 0\n  };\n  return null == r && null != l$1.vnode && l$1.vnode(f), f;\n}\nfunction g$1(n) {\n  return n.children;\n}\nfunction b$1(n, l) {\n  this.props = n, this.context = l;\n}\nfunction m$1(n, l) {\n  if (null == l) return n.__ ? m$1(n.__, n.__i + 1) : null;\n  for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  return \"function\" == typeof n.type ? m$1(n) : null;\n}\nfunction w$1(n, u, t) {\n  var i,\n    o = n.__v,\n    r = o.__e,\n    f = n.__P;\n  if (f) return (i = v$1({}, o)).__v = o.__v + 1, l$1.vnode && l$1.vnode(i), M(f, i, o, n.__n, void 0 !== f.ownerSVGElement, 32 & o.__u ? [r] : null, u, null == r ? m$1(o) : r, !!(32 & o.__u), t), i.__.__k[i.__i] = i, i.__d = void 0, i.__e != r && k$1(i), i;\n}\nfunction k$1(n) {\n  var l, u;\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {\n      n.__e = n.__c.base = u.__e;\n      break;\n    }\n    return k$1(n);\n  }\n}\nfunction x$1(n) {\n  (!n.__d && (n.__d = true) && i$1.push(n) && !C$1.__r++ || o$1 !== l$1.debounceRendering) && ((o$1 = l$1.debounceRendering) || r$1)(C$1);\n}\nfunction C$1() {\n  var n,\n    u,\n    t,\n    o = [],\n    r = [];\n  for (i$1.sort(f$1); n = i$1.shift();) n.__d && (t = i$1.length, u = w$1(n, o, r) || u, 0 === t || i$1.length > t ? (j$1(o, u, r), r.length = o.length = 0, u = void 0, i$1.sort(f$1)) : u && l$1.__c && l$1.__c(u, s$1));\n  u && j$1(o, u, r), C$1.__r = 0;\n}\nfunction P$1(n, l, u, t, i, o, r, f, e, a, h) {\n  var v,\n    p,\n    y,\n    d,\n    _,\n    g = t && t.__k || s$1,\n    b = l.length;\n  for (u.__d = e, S(u, l, g), e = u.__d, v = 0; v < b; v++) null != (y = u.__k[v]) && \"boolean\" != typeof y && \"function\" != typeof y && (p = -1 === y.__i ? c$1 : g[y.__i] || c$1, y.__i = v, M(n, y, p, i, o, r, f, e, a, h), d = y.__e, y.ref && p.ref != y.ref && (p.ref && N(p.ref, null, y), h.push(y.ref, y.__c || d, y)), null == _ && null != d && (_ = d), 65536 & y.__u || p.__k === y.__k ? e = $(y, e, n) : \"function\" == typeof y.type && void 0 !== y.__d ? e = y.__d : d && (e = d.nextSibling), y.__d = void 0, y.__u &= -196609);\n  u.__d = e, u.__e = _;\n}\nfunction S(n, l, u) {\n  var t,\n    i,\n    o,\n    r,\n    f,\n    e = l.length,\n    c = u.length,\n    s = c,\n    a = 0;\n  for (n.__k = [], t = 0; t < e; t++) null != (i = n.__k[t] = null == (i = l[t]) || \"boolean\" == typeof i || \"function\" == typeof i ? null : \"string\" == typeof i || \"number\" == typeof i || \"bigint\" == typeof i || i.constructor == String ? d$1(null, i, null, null, i) : h$1(i) ? d$1(g$1, {\n    children: i\n  }, null, null, null) : void 0 === i.constructor && i.__b > 0 ? d$1(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v) : i) ? (i.__ = n, i.__b = n.__b + 1, f = I(i, u, r = t + a, s), i.__i = f, o = null, -1 !== f && (s--, (o = u[f]) && (o.__u |= 131072)), null == o || null === o.__v ? (-1 == f && a--, \"function\" != typeof i.type && (i.__u |= 65536)) : f !== r && (f === r + 1 ? a++ : f > r ? s > e - r ? a += f - r : a-- : a = f < r && f == r - 1 ? f - r : 0, f !== t + a && (i.__u |= 65536))) : (o = u[t]) && null == o.key && o.__e && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o, false), u[t] = null, s--);\n  if (s) for (t = 0; t < c; t++) null != (o = u[t]) && 0 == (131072 & o.__u) && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o));\n}\nfunction $(n, l, u) {\n  var t, i;\n  if (\"function\" == typeof n.type) {\n    for (t = n.__k, i = 0; t && i < t.length; i++) t[i] && (t[i].__ = n, l = $(t[i], l, u));\n    return l;\n  }\n  n.__e != l && (u.insertBefore(n.__e, l || null), l = n.__e);\n  do {\n    l = l && l.nextSibling;\n  } while (null != l && 8 === l.nodeType);\n  return l;\n}\nfunction I(n, l, u, t) {\n  var i = n.key,\n    o = n.type,\n    r = u - 1,\n    f = u + 1,\n    e = l[u];\n  if (null === e || e && i == e.key && o === e.type) return u;\n  if (t > (null != e && 0 == (131072 & e.__u) ? 1 : 0)) for (; r >= 0 || f < l.length;) {\n    if (r >= 0) {\n      if ((e = l[r]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return r;\n      r--;\n    }\n    if (f < l.length) {\n      if ((e = l[f]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return f;\n      f++;\n    }\n  }\n  return -1;\n}\nfunction T$1(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || a$1.test(l) ? u : u + \"px\";\n}\nfunction A$1(n, l, u, t, i) {\n  var o;\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for (l in t) u && l in u || T$1(n.style, l, \"\");\n      if (u) for (l in u) t && u[l] === t[l] || T$1(n.style, l, u[l]);\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/i, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t ? u.u = t.u : (u.u = Date.now(), n.addEventListener(l, o ? L : D$1, o)) : n.removeEventListener(l, o ? L : D$1, o);else {\n    if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && \"role\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null == u || false === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction D$1(n) {\n  if (this.l) {\n    var u = this.l[n.type + false];\n    if (n.t) {\n      if (n.t <= u.u) return;\n    } else n.t = Date.now();\n    return u(l$1.event ? l$1.event(n) : n);\n  }\n}\nfunction L(n) {\n  if (this.l) return this.l[n.type + true](l$1.event ? l$1.event(n) : n);\n}\nfunction M(n, u, t, i, o, r, f, e, c, s) {\n  var a,\n    p,\n    y,\n    d,\n    _,\n    m,\n    w,\n    k,\n    x,\n    C,\n    S,\n    $,\n    H,\n    I,\n    T,\n    A = u.type;\n  if (void 0 !== u.constructor) return null;\n  128 & t.__u && (c = !!(32 & t.__u), r = [e = u.__e = t.__e]), (a = l$1.__b) && a(u);\n  n: if (\"function\" == typeof A) try {\n    if (k = u.props, x = (a = A.contextType) && i[a.__c], C = a ? x ? x.props.value : a.__ : i, t.__c ? w = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in A && A.prototype.render ? u.__c = p = new A(k, C) : (u.__c = p = new b$1(k, C), p.constructor = A, p.render = q$1), x && x.sub(p), p.props = k, p.state || (p.state = {}), p.context = C, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != A.getDerivedStateFromProps && (p.__s == p.state && (p.__s = v$1({}, p.__s)), v$1(p.__s, A.getDerivedStateFromProps(k, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == A.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);else {\n      if (null == A.getDerivedStateFromProps && k !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(k, C), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(k, p.__s, C) || u.__v === t.__v)) {\n        for (u.__v !== t.__v && (p.props = k, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function (n) {\n          n && (n.__ = u);\n        }), S = 0; S < p._sb.length; S++) p.__h.push(p._sb[S]);\n        p._sb = [], p.__h.length && f.push(p);\n        break n;\n      }\n      null != p.componentWillUpdate && p.componentWillUpdate(k, p.__s, C), null != p.componentDidUpdate && p.__h.push(function () {\n        p.componentDidUpdate(d, _, m);\n      });\n    }\n    if (p.context = C, p.props = k, p.__P = n, p.__e = !1, $ = l$1.__r, H = 0, \"prototype\" in A && A.prototype.render) {\n      for (p.state = p.__s, p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), I = 0; I < p._sb.length; I++) p.__h.push(p._sb[I]);\n      p._sb = [];\n    } else do {\n      p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n    } while (p.__d && ++H < 25);\n    p.state = p.__s, null != p.getChildContext && (i = v$1(v$1({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (m = p.getSnapshotBeforeUpdate(d, _)), P$1(n, h$1(T = null != a && a.type === g$1 && null == a.key ? a.props.children : a) ? T : [T], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__u &= -161, p.__h.length && f.push(p), w && (p.__E = p.__ = null);\n  } catch (n) {\n    u.__v = null, c || null != r ? (u.__e = e, u.__u |= c ? 160 : 32, r[r.indexOf(e)] = null) : (u.__e = t.__e, u.__k = t.__k), l$1.__e(n, u, t);\n  } else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = z$1(t.__e, u, t, i, o, r, f, c, s);\n  (a = l$1.diffed) && a(u);\n}\nfunction j$1(n, u, t) {\n  for (var i = 0; i < t.length; i++) N(t[i], t[++i], t[++i]);\n  l$1.__c && l$1.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l$1.__e(n, u.__v);\n    }\n  });\n}\nfunction z$1(l, u, t, i, o, r, f, e, s) {\n  var a,\n    v,\n    y,\n    d,\n    _,\n    g,\n    b,\n    w = t.props,\n    k = u.props,\n    x = u.type;\n  if (\"svg\" === x && (o = true), null != r) for (a = 0; a < r.length; a++) if ((_ = r[a]) && \"setAttribute\" in _ == !!x && (x ? _.localName === x : 3 === _.nodeType)) {\n    l = _, r[a] = null;\n    break;\n  }\n  if (null == l) {\n    if (null === x) return document.createTextNode(k);\n    l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", x) : document.createElement(x, k.is && k), r = null, e = false;\n  }\n  if (null === x) w === k || e && l.data === k || (l.data = k);else {\n    if (r = r && n.call(l.childNodes), w = t.props || c$1, !e && null != r) for (w = {}, a = 0; a < l.attributes.length; a++) w[(_ = l.attributes[a]).name] = _.value;\n    for (a in w) _ = w[a], \"children\" == a || (\"dangerouslySetInnerHTML\" == a ? y = _ : \"key\" === a || a in k || A$1(l, a, null, _, o));\n    for (a in k) _ = k[a], \"children\" == a ? d = _ : \"dangerouslySetInnerHTML\" == a ? v = _ : \"value\" == a ? g = _ : \"checked\" == a ? b = _ : \"key\" === a || e && \"function\" != typeof _ || w[a] === _ || A$1(l, a, _, w[a], o);\n    if (v) e || y && (v.__html === y.__html || v.__html === l.innerHTML) || (l.innerHTML = v.__html), u.__k = [];else if (y && (l.innerHTML = \"\"), P$1(l, h$1(d) ? d : [d], u, t, i, o && \"foreignObject\" !== x, r, f, r ? r[0] : t.__k && m$1(t, 0), e, s), null != r) for (a = r.length; a--;) null != r[a] && p$1(r[a]);\n    e || (a = \"value\", void 0 !== g && (g !== l[a] || \"progress\" === x && !g || \"option\" === x && g !== w[a]) && A$1(l, a, g, w[a], false), a = \"checked\", void 0 !== b && b !== l[a] && A$1(l, a, b, w[a], false));\n  }\n  return l;\n}\nfunction N(n, u, t) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l$1.__e(n, t);\n  }\n}\nfunction O(n, u, t) {\n  var i, o;\n  if (l$1.unmount && l$1.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || N(i, null, u)), null != (i = n.__c)) {\n    if (i.componentWillUnmount) try {\n      i.componentWillUnmount();\n    } catch (n) {\n      l$1.__e(n, u);\n    }\n    i.base = i.__P = null, n.__c = void 0;\n  }\n  if (i = n.__k) for (o = 0; o < i.length; o++) i[o] && O(i[o], u, t || \"function\" != typeof n.type);\n  t || null == n.__e || p$1(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction q$1(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction B$1(u, t, i) {\n  var o, r, f, e;\n  l$1.__ && l$1.__(u, t), r = (o = \"function\" == \"undefined\") ? null : t.__k, f = [], e = [], M(t, u = t.__k = y$1(g$1, null, [u]), r || c$1, c$1, void 0 !== t.ownerSVGElement, r ? null : t.firstChild ? n.call(t.childNodes) : null, f, r ? r.__e : t.firstChild, o, e), u.__d = void 0, j$1(f, u, e);\n}\nn = s$1.slice, l$1 = {\n  __e: function (n, l, u, t) {\n    for (var i, o, r; l = l.__;) if ((i = l.__c) && !i.__) try {\n      if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n    } catch (l) {\n      n = l;\n    }\n    throw n;\n  }\n}, u$1 = 0, b$1.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v$1({}, this.state), \"function\" == typeof n && (n = n(v$1({}, u), this.props)), n && v$1(u, n), null != n && this.__v && (l && this._sb.push(l), x$1(this));\n}, b$1.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = true, n && this.__h.push(n), x$1(this));\n}, b$1.prototype.render = g$1, i$1 = [], r$1 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f$1 = function (n, l) {\n  return n.__v.__b - l.__v.__b;\n}, C$1.__r = 0;\nvar t,\n  r,\n  u,\n  i,\n  o = 0,\n  f = [],\n  c = [],\n  e = l$1,\n  a = e.__b,\n  v = e.__r,\n  l = e.diffed,\n  m = e.__c,\n  s = e.unmount,\n  d = e.__;\nfunction h(n, t) {\n  e.__h && e.__h(r, n, o || t), o = 0;\n  var u = r.__H || (r.__H = {\n    __: [],\n    __h: []\n  });\n  return n >= u.__.length && u.__.push({\n    __V: c\n  }), u.__[n];\n}\nfunction p(n) {\n  return o = 1, y(D, n);\n}\nfunction y(n, u, i) {\n  var o = h(t++, 2);\n  if (o.t = n, !o.__c && (o.__ = [i ? i(u) : D(void 0, u), function (n) {\n    var t = o.__N ? o.__N[0] : o.__[0],\n      r = o.t(t, n);\n    t !== r && (o.__N = [r, o.__[1]], o.__c.setState({}));\n  }], o.__c = r, !r.u)) {\n    var f = function (n, t, r) {\n      if (!o.__c.__H) return true;\n      var u = o.__c.__H.__.filter(function (n) {\n        return !!n.__c;\n      });\n      if (u.every(function (n) {\n        return !n.__N;\n      })) return !c || c.call(this, n, t, r);\n      var i = false;\n      return u.forEach(function (n) {\n        if (n.__N) {\n          var t = n.__[0];\n          n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = true);\n        }\n      }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n    };\n    r.u = true;\n    var c = r.shouldComponentUpdate,\n      e = r.componentWillUpdate;\n    r.componentWillUpdate = function (n, t, r) {\n      if (this.__e) {\n        var u = c;\n        c = void 0, f(n, t, r), c = u;\n      }\n      e && e.call(this, n, t, r);\n    }, r.shouldComponentUpdate = f;\n  }\n  return o.__N || o.__;\n}\nfunction _(n, u) {\n  var i = h(t++, 3);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__H.__h.push(i));\n}\nfunction A(n, u) {\n  var i = h(t++, 4);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__h.push(i));\n}\nfunction F(n) {\n  return o = 5, q(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\nfunction T(n, t, r) {\n  o = 6, A(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == r ? r : r.concat(n));\n}\nfunction q(n, r) {\n  var u = h(t++, 7);\n  return C(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction x(n, t) {\n  return o = 8, q(function () {\n    return n;\n  }, t);\n}\nfunction P(n) {\n  var u = r.context[n.__c],\n    i = h(t++, 9);\n  return i.c = n, u ? (null == i.__ && (i.__ = true, u.sub(r)), u.props.value) : n.__;\n}\nfunction V(n, t) {\n  e.useDebugValue && e.useDebugValue(t ? t(n) : n);\n}\nfunction b(n) {\n  var u = h(t++, 10),\n    i = p();\n  return u.__ = n, r.componentDidCatch || (r.componentDidCatch = function (n, t) {\n    u.__ && u.__(n, t), i[1](n);\n  }), [i[0], function () {\n    i[1](void 0);\n  }];\n}\nfunction g() {\n  var n = h(t++, 11);\n  if (!n.__) {\n    for (var u = r.__v; null !== u && !u.__m && null !== u.__;) u = u.__;\n    var i = u.__m || (u.__m = [0, 0]);\n    n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n  }\n  return n.__;\n}\nfunction j() {\n  for (var n; n = f.shift();) if (n.__P && n.__H) try {\n    n.__H.__h.forEach(z), n.__H.__h.forEach(B), n.__H.__h = [];\n  } catch (t) {\n    n.__H.__h = [], e.__e(t, n.__v);\n  }\n}\ne.__b = function (n) {\n  r = null, a && a(n);\n}, e.__ = function (n, t) {\n  t.__k && t.__k.__m && (n.__m = t.__k.__m), d && d(n, t);\n}, e.__r = function (n) {\n  v && v(n), t = 0;\n  var i = (r = n.__c).__H;\n  i && (u === r ? (i.__h = [], r.__h = [], i.__.forEach(function (n) {\n    n.__N && (n.__ = n.__N), n.__V = c, n.__N = n.i = void 0;\n  })) : (i.__h.forEach(z), i.__h.forEach(B), i.__h = [], t = 0)), u = r;\n}, e.diffed = function (n) {\n  l && l(n);\n  var t = n.__c;\n  t && t.__H && (t.__H.__h.length && (1 !== f.push(t) && i === e.requestAnimationFrame || ((i = e.requestAnimationFrame) || w)(j)), t.__H.__.forEach(function (n) {\n    n.i && (n.__H = n.i), n.__V !== c && (n.__ = n.__V), n.i = void 0, n.__V = c;\n  })), u = r = null;\n}, e.__c = function (n, t) {\n  t.some(function (n) {\n    try {\n      n.__h.forEach(z), n.__h = n.__h.filter(function (n) {\n        return !n.__ || B(n);\n      });\n    } catch (r) {\n      t.some(function (n) {\n        n.__h && (n.__h = []);\n      }), t = [], e.__e(r, n.__v);\n    }\n  }), m && m(n, t);\n}, e.unmount = function (n) {\n  s && s(n);\n  var t,\n    r = n.__c;\n  r && r.__H && (r.__H.__.forEach(function (n) {\n    try {\n      z(n);\n    } catch (n) {\n      t = n;\n    }\n  }), r.__H = void 0, t && e.__e(t, r.__v));\n};\nvar k = \"function\" == typeof requestAnimationFrame;\nfunction w(n) {\n  var t,\n    r = function () {\n      clearTimeout(u), k && cancelAnimationFrame(t), setTimeout(n);\n    },\n    u = setTimeout(r, 100);\n  k && (t = requestAnimationFrame(r));\n}\nfunction z(n) {\n  var t = r,\n    u = n.__c;\n  \"function\" == typeof u && (n.__c = void 0, u()), r = t;\n}\nfunction B(n) {\n  var t = r;\n  n.__c = n.__(), r = t;\n}\nfunction C(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, r) {\n    return t !== n[r];\n  });\n}\nfunction D(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\nconst hooks = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  useCallback: x,\n  useContext: P,\n  useDebugValue: V,\n  useEffect: _,\n  useErrorBoundary: b,\n  useId: g,\n  useImperativeHandle: T,\n  useLayoutEffect: A,\n  useMemo: q,\n  useReducer: y,\n  useRef: F,\n  useState: p\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction SentryLogo() {\n  const createElementNS = tagName => DOCUMENT.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z'\n  });\n  svg.appendChild(path);\n  return svg;\n}\nfunction DialogHeader({\n  options\n}) {\n  const logoHtml = q(() => ({\n    __html: SentryLogo().outerHTML\n  }), []);\n  return y$1('h2', {\n    class: \"dialog__header\"\n  }, y$1('span', {\n    class: \"dialog__title\"\n  }, options.formTitle), options.showBranding ? y$1('a', {\n    class: \"brand-link\",\n    target: \"_blank\",\n    href: \"https://sentry.io/welcome/\",\n    title: \"Powered by Sentry\",\n    rel: \"noopener noreferrer\",\n    dangerouslySetInnerHTML: logoHtml\n  }) : null);\n}\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nfunction getMissingFields(feedback, props) {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n  return emptyFields;\n}\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\nfunction Form({\n  options,\n  defaultEmail,\n  defaultName,\n  onFormClose,\n  onSubmit,\n  onSubmitSuccess,\n  onSubmitError,\n  showEmail,\n  showName,\n  screenshotInput\n}) {\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel\n  } = options;\n  const [isSubmitting, setIsSubmitting] = p(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = p(null);\n  const [showScreenshotInput, setShowScreenshotInput] = p(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent = screenshotInput?.input;\n  const [screenshotError, setScreenshotError] = p(null);\n  const onScreenshotError = x(error => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n  const hasAllRequiredFields = x(data => {\n    const missingFields = getMissingFields(data, {\n      emailLabel,\n      isEmailRequired,\n      isNameRequired,\n      messageLabel,\n      nameLabel\n    });\n    if (missingFields.length > 0) {\n      setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n    } else {\n      setError(null);\n    }\n    return missingFields.length === 0;\n  }, [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel]);\n  const handleSubmit = x(async e => {\n    setIsSubmitting(true);\n    try {\n      e.preventDefault();\n      if (!(e.target instanceof HTMLFormElement)) {\n        return;\n      }\n      const formData = new FormData(e.target);\n      const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n      const data = {\n        name: retrieveStringValue(formData, 'name'),\n        email: retrieveStringValue(formData, 'email'),\n        message: retrieveStringValue(formData, 'message'),\n        attachments: attachment ? [attachment] : undefined\n      };\n      if (!hasAllRequiredFields(data)) {\n        return;\n      }\n      try {\n        const eventId = await onSubmit({\n          name: data.name,\n          email: data.email,\n          message: data.message,\n          source: FEEDBACK_WIDGET_SOURCE,\n          tags\n        }, {\n          attachments: data.attachments\n        });\n        onSubmitSuccess(data, eventId);\n      } catch (error) {\n        DEBUG_BUILD && debug.error(error);\n        setError(error);\n        onSubmitError(error);\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError]);\n  return y$1('form', {\n    class: \"form\",\n    onSubmit: handleSubmit\n  }, ScreenshotInputComponent && showScreenshotInput ? y$1(ScreenshotInputComponent, {\n    onError: onScreenshotError\n  }) : null, y$1('fieldset', {\n    class: \"form__right\",\n    'data-sentry-feedback': true,\n    disabled: isSubmitting\n  }, y$1('div', {\n    class: \"form__top\"\n  }, error ? y$1('div', {\n    class: \"form__error-container\"\n  }, error) : null, showName ? y$1('label', {\n    for: \"name\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: nameLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isNameRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultName,\n    id: \"name\",\n    name: \"name\",\n    placeholder: namePlaceholder,\n    required: isNameRequired,\n    type: \"text\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultName,\n    name: \"name\",\n    type: \"hidden\"\n  }), showEmail ? y$1('label', {\n    for: \"email\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: emailLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isEmailRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultEmail,\n    id: \"email\",\n    name: \"email\",\n    placeholder: emailPlaceholder,\n    required: isEmailRequired,\n    type: \"email\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultEmail,\n    name: \"email\",\n    type: \"hidden\"\n  }), y$1('label', {\n    for: \"message\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: messageLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: true\n  }), y$1('textarea', {\n    autoFocus: true,\n    class: \"form__input form__input--textarea\",\n    id: \"message\",\n    name: \"message\",\n    placeholder: messagePlaceholder,\n    required: true,\n    rows: 5\n  })), ScreenshotInputComponent ? y$1('label', {\n    for: \"screenshot\",\n    class: \"form__label\"\n  }, y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: () => {\n      setScreenshotError(null);\n      setShowScreenshotInput(prev => !prev);\n    }\n  }, showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel), screenshotError ? y$1('div', {\n    class: \"form__error-container\"\n  }, screenshotError.message) : null) : null), y$1('div', {\n    class: \"btn-group\"\n  }, y$1('button', {\n    class: \"btn btn--primary\",\n    disabled: isSubmitting,\n    type: \"submit\"\n  }, submitButtonLabel), y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: onFormClose\n  }, cancelButtonLabel))));\n}\nfunction LabelText({\n  label,\n  isRequired,\n  isRequiredLabel\n}) {\n  return y$1('span', {\n    class: \"form__label__text\"\n  }, label, isRequired && y$1('span', {\n    class: \"form__label__text--required\"\n  }, isRequiredLabel));\n}\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)'\n  });\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z'\n  });\n  svg.appendChild(g).append(path, path2);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\nfunction Dialog({\n  open,\n  onFormSubmitted,\n  ...props\n}) {\n  const options = props.options;\n  const successIconHtml = q(() => ({\n    __html: SuccessIcon().outerHTML\n  }), []);\n  const [timeoutId, setTimeoutId] = p(null);\n  const handleOnSuccessClick = x(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n  const onSubmitSuccess = x((data, eventId) => {\n    props.onSubmitSuccess(data, eventId);\n    setTimeoutId(setTimeout(() => {\n      onFormSubmitted();\n      setTimeoutId(null);\n    }, SUCCESS_MESSAGE_TIMEOUT));\n  }, [onFormSubmitted]);\n  return y$1(g$1, null, timeoutId ? y$1('div', {\n    class: \"success__position\",\n    onClick: handleOnSuccessClick\n  }, y$1('div', {\n    class: \"success__content\"\n  }, options.successMessageText, y$1('span', {\n    class: \"success__icon\",\n    dangerouslySetInnerHTML: successIconHtml\n  }))) : y$1('dialog', {\n    class: \"dialog\",\n    onClick: options.onFormClose,\n    open: open\n  }, y$1('div', {\n    class: \"dialog__position\"\n  }, y$1('div', {\n    class: \"dialog__content\",\n    onClick: e => {\n      // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n      e.stopPropagation();\n    }\n  }, y$1(DialogHeader, {\n    options: options\n  }), y$1(Form, {\n    ...props,\n    onSubmitSuccess: onSubmitSuccess\n  })))));\n}\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction getUser() {\n  const currentUser = getCurrentScope().getUser();\n  const isolationUser = getIsolationScope().getUser();\n  const globalUser = getGlobalScope().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\nconst feedbackModalIntegration = () => {\n  return {\n    name: 'FeedbackModal',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createDialog: ({\n      options,\n      screenshotIntegration,\n      sendFeedback,\n      shadow\n    }) => {\n      const shadowRoot = shadow;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n      let originalOverflow = '';\n      const dialog = {\n        get el() {\n          return el;\n        },\n        appendToDom() {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom() {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          getClient()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        }\n      };\n      const screenshotInput = screenshotIntegration?.createInput({\n        h: y$1,\n        hooks,\n        dialog,\n        options\n      });\n      const renderContent = open => {\n        B$1(y$1(Dialog, {\n          options: options,\n          screenshotInput: screenshotInput,\n          showName: options.showName || options.isNameRequired,\n          showEmail: options.showEmail || options.isEmailRequired,\n          defaultName: userKey && user?.[userKey.name] || '',\n          defaultEmail: userKey && user?.[userKey.email] || '',\n          onFormClose: () => {\n            renderContent(false);\n            options.onFormClose?.();\n          },\n          onSubmit: sendFeedback,\n          onSubmitSuccess: (data, eventId) => {\n            renderContent(false);\n            options.onSubmitSuccess?.(data, eventId);\n          },\n          onSubmitError: error => {\n            options.onSubmitError?.(error);\n          },\n          onFormSubmitted: () => {\n            options.onFormSubmitted?.();\n          },\n          open: open\n        }), el);\n      };\n      return dialog;\n    }\n  };\n};\nfunction IconCloseFactory({\n  h // eslint-disable-line @typescript-eslint/no-unused-vars\n}) {\n  return function IconClose() {\n    return h('svg', {\n      'data-test-id': \"icon-close\",\n      viewBox: \"0 0 16 16\",\n      fill: \"#2B2233\",\n      height: \"25px\",\n      width: \"25px\"\n    }, h('circle', {\n      r: \"7\",\n      cx: \"8\",\n      cy: \"8\",\n      fill: \"white\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\"\n    }));\n  };\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createScreenshotInputStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction ToolbarFactory({\n  h // eslint-disable-line @typescript-eslint/no-unused-vars\n}) {\n  return function Toolbar({\n    action,\n    setAction\n  }) {\n    return h('div', {\n      class: \"editor__tool-container\"\n    }, h('div', {\n      class: \"editor__tool-bar\"\n    }, h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'highlight' ? '' : 'highlight');\n      }\n    }, \"Highlight\"), h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'hide' ? '' : 'hide');\n      }\n    }, \"Hide\")));\n  };\n}\nfunction useTakeScreenshotFactory({\n  hooks\n}) {\n  function useDpi() {\n    const [dpi, setDpi] = hooks.useState(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = () => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n    return dpi;\n  }\n  return function useTakeScreenshot({\n    onBeforeScreenshot,\n    onScreenshot,\n    onAfterScreenshot,\n    onError\n  }) {\n    const dpi = useDpi();\n    hooks.useEffect(() => {\n      const takeScreenshot = async () => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude'\n        });\n        const video = DOCUMENT.createElement('video');\n        await new Promise((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\nfunction drawRect(command, ctx, color) {\n  switch (command.type) {\n    case 'highlight':\n      {\n        // creates a shadow around\n        ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n        ctx.shadowBlur = 50;\n\n        // draws a rectangle first with a shadow\n        ctx.fillStyle = color;\n        ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n        // cut out the inside of the rectangle\n        ctx.clearRect(command.x, command.y, command.w, command.h);\n        break;\n      }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n      break;\n  }\n}\nfunction with2dContext(canvas, options, callback) {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\nfunction paintImage(maybeDest, source) {\n  with2dContext(maybeDest, {\n    alpha: true\n  }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas, strokeColor, drawCommands) {\n  with2dContext(maybeCanvas, {\n    alpha: true\n  }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\nfunction ScreenshotEditorFactory({\n  h,\n  hooks,\n  outputBuffer,\n  dialog,\n  options\n}) {\n  const useTakeScreenshot = useTakeScreenshotFactory({\n    hooks\n  });\n  const Toolbar = ToolbarFactory({\n    h\n  });\n  const IconClose = IconCloseFactory({\n    h\n  });\n  const editorStyleInnerText = {\n    __html: createScreenshotInputStyles(options.styleNonce).innerText\n  };\n  const dialogStyle = dialog.el.style;\n  const ScreenshotEditor = ({\n    screenshot\n  }) => {\n    // Data for rendering:\n    const [action, setAction] = hooks.useState('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef(null);\n    const backgroundRef = hooks.useRef(null);\n    const foregroundRef = hooks.useRef(null);\n    const mouseRef = hooks.useRef(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState(1);\n    const strokeColor = hooks.useMemo(() => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return computedStyle.getPropertyValue('--button-primary-background') || computedStyle.getPropertyValue('--accent-background');\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = () => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n        with2dContext(screenshot.canvas, {\n          alpha: false\n        }, canvas => {\n          const scale = Math.min(measurementDiv.clientWidth / canvas.width, measurementDiv.clientHeight / canvas.height);\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback((maybeCanvas, scale) => {\n      with2dContext(maybeCanvas, {\n        alpha: true\n      }, (canvas, ctx) => {\n        // Must call `scale()` before setting `width` & `height`\n        ctx.scale(scale, scale);\n        canvas.width = screenshot.canvas.width;\n        canvas.height = screenshot.canvas.height;\n      });\n    }, [screenshot]);\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, {\n        alpha: true\n      }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), {\n        alpha: true\n      }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n    const handleMouseDown = e => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor\n      };\n      const getDrawCommand = (startingPoint, e) => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y)\n        };\n      };\n      const handleMouseMove = e => {\n        with2dContext(foregroundRef.current, {\n          alpha: true\n        }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n      const handleMouseUp = e => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n    const deleteRect = hooks.useCallback(index => {\n      return e => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`\n    };\n    const handleStopPropagation = e => {\n      e.stopPropagation();\n    };\n    return h('div', {\n      class: \"editor\"\n    }, h('style', {\n      nonce: options.styleNonce,\n      dangerouslySetInnerHTML: editorStyleInnerText\n    }), h('div', {\n      class: \"editor__image-container\"\n    }, h('div', {\n      class: \"editor__canvas-container\",\n      ref: measurementRef\n    }, h('canvas', {\n      ref: backgroundRef,\n      id: \"background\",\n      style: dimensions\n    }), h('canvas', {\n      ref: foregroundRef,\n      id: \"foreground\",\n      style: dimensions\n    }), h('div', {\n      ref: mouseRef,\n      onMouseDown: handleMouseDown,\n      style: dimensions\n    }, drawCommands.map((rect, index) => h('div', {\n      key: index,\n      class: \"editor__rect\",\n      style: {\n        top: `${rect.y * scaleFactor}px`,\n        left: `${rect.x * scaleFactor}px`,\n        width: `${rect.w * scaleFactor}px`,\n        height: `${rect.h * scaleFactor}px`\n      }\n    }, h('button', {\n      'aria-label': \"Remove\",\n      onClick: deleteRect(index),\n      onMouseDown: handleStopPropagation,\n      onMouseUp: handleStopPropagation,\n      type: \"button\"\n    }, h(IconClose, null))))))), h(Toolbar, {\n      action: action,\n      setAction: setAction\n    }));\n  };\n  return function Wrapper({\n    onError\n  }) {\n    const [screenshot, setScreenshot] = hooks.useState();\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo, dpi) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), {\n          alpha: false\n        }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n          setScreenshot({\n            canvas,\n            dpi\n          });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, [])\n    });\n    if (screenshot) {\n      return h(ScreenshotEditor, {\n        screenshot: screenshot\n      });\n    }\n    return h('div', null);\n  };\n}\nconst feedbackScreenshotIntegration = () => {\n  return {\n    name: 'FeedbackScreenshot',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createInput: ({\n      h,\n      hooks,\n      dialog,\n      options\n    }) => {\n      const outputBuffer = DOCUMENT.createElement('canvas');\n      return {\n        input: ScreenshotEditorFactory({\n          h: h,\n          hooks: hooks,\n          outputBuffer,\n          dialog,\n          options\n        }),\n        // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png'\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        }\n      };\n    }\n  };\n};\nexport { buildFeedbackIntegration, feedbackModalIntegration, feedbackScreenshotIntegration, getFeedback, sendFeedback };","map":{"version":3,"names":["WINDOW","GLOBAL_OBJ","DOCUMENT","document","NAVIGATOR","navigator","TRIGGER_LABEL","CANCEL_BUTTON_LABEL","SUBMIT_BUTTON_LABEL","CONFIRM_BUTTON_LABEL","FORM_TITLE","EMAIL_PLACEHOLDER","EMAIL_LABEL","MESSAGE_PLACEHOLDER","MESSAGE_LABEL","NAME_PLACEHOLDER","NAME_LABEL","SUCCESS_MESSAGE_TEXT","IS_REQUIRED_LABEL","ADD_SCREENSHOT_LABEL","REMOVE_SCREENSHOT_LABEL","FEEDBACK_WIDGET_SOURCE","FEEDBACK_API_SOURCE","SUCCESS_MESSAGE_TIMEOUT","sendFeedback","params","hint","includeReplay","message","Error","client","getClient","tags","Object","keys","length","getCurrentScope","setTags","eventId","captureFeedback","source","url","getLocationHref","Promise","resolve","reject","timeout","setTimeout","cleanup","on","event","response","event_id","clearTimeout","statusCode","DEBUG_BUILD","__SENTRY_DEBUG__","isScreenshotSupported","test","userAgent","maxTouchPoints","isSecureContext","mergeOptions","defaultOptions","optionOverrides","onFormOpen","onFormClose","onSubmitSuccess","data","onSubmitError","error","onFormSubmitted","themeDark","themeLight","createActorStyles","styleNonce","style","createElement","textContent","setAttribute","setAttributesNS","el","attributes","entries","forEach","key","val","setAttributeNS","SIZE","XMLNS$2","FeedbackIcon","createElementNS","tagName","svg","width","height","viewBox","fill","g","clipPath","path","d","appendChild","speakerDefs","speakerClipPathDef","id","speakerRect","Actor","triggerLabel","triggerAriaLabel","shadow","type","className","ariaHidden","ariaLabel","label","createTextNode","appendToDom","removeFromDom","remove","show","hide","PURPLE","DEFAULT_LIGHT","foreground","background","accentForeground","accentBackground","successColor","errorColor","border","boxShadow","outline","interactiveFilter","DEFAULT_DARK","getThemedCssVariables","theme","createMainStyles","colorScheme","buildFeedbackIntegration","lazyLoadIntegration","getModalIntegration","getScreenshotIntegration","feedbackIntegration","autoInject","showBranding","isEmailRequired","isNameRequired","showEmail","showName","enableScreenshot","useSentryUser","email","name","scriptNonce","addScreenshotButtonLabel","cancelButtonLabel","confirmButtonLabel","emailLabel","emailPlaceholder","formTitle","isRequiredLabel","messageLabel","messagePlaceholder","nameLabel","namePlaceholder","removeScreenshotButtonLabel","submitButtonLabel","successMessageText","_options","_shadow","_subscriptions","_createShadow","options","host","String","body","attachShadow","mode","_loadAndRenderDialog","screenshotRequired","modalIntegration","screenshotIntegration","modalIntegrationFn","addIntegration","debug","screenshotIntegrationFn","undefined","dialog","createDialog","close","_attachTo","mergedOptions","targetEl","querySelector","addEventListener","handleClick","open","unsubscribe","filter","sub","removeEventListener","push","_createActor","actor","setupOnce","isBrowser","readyState","attachTo","createWidget","createForm","parentElement","getFeedback","getIntegrationByName","n","l$1","u$1","i$1","o$1","r$1","f$1","c$1","s$1","a$1","h$1","Array","isArray","v$1","v","l","u","p$1","p","parentNode","removeChild","y$1","y","t","i","o","r","f","arguments","children","call","defaultProps","d$1","props","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","g$1","b$1","b","context","m$1","m","w$1","w","__P","M","__n","ownerSVGElement","k$1","k","base","x$1","x","C$1","__r","debounceRendering","C","sort","shift","j$1","P$1","P","e","a","h","_","S","N","$","nextSibling","c","s","I","O","insertBefore","nodeType","T$1","T","setProperty","A$1","A","cssText","replace","toLowerCase","slice","Date","now","L","D$1","removeAttribute","D","H","contextType","value","__E","prototype","render","q$1","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","z$1","diffed","j","some","z","localName","is","childNodes","__html","innerHTML","current","unmount","componentWillUnmount","q","B$1","B","firstChild","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","then","bind","__H","__V","__N","every","F","concat","V","useDebugValue","__m","requestAnimationFrame","cancelAnimationFrame","XMLNS$1","SentryLogo","transform","DialogHeader","logoHtml","outerHTML","class","target","href","title","rel","dangerouslySetInnerHTML","getMissingFields","feedback","emptyFields","retrieveStringValue","formData","get","trim","Form","defaultEmail","defaultName","onSubmit","screenshotInput","isSubmitting","setIsSubmitting","setError","showScreenshotInput","setShowScreenshotInput","ScreenshotInputComponent","input","screenshotError","setScreenshotError","onScreenshotError","hasAllRequiredFields","missingFields","join","handleSubmit","preventDefault","HTMLFormElement","FormData","attachment","attachments","onError","disabled","for","LabelText","isRequired","defaultValue","placeholder","required","autoFocus","rows","onClick","prev","WIDTH","HEIGHT","XMLNS","SuccessIcon","path2","append","Dialog","successIconHtml","timeoutId","setTimeoutId","handleOnSuccessClick","stopPropagation","DIALOG","DIALOG_HEADER","FORM","BUTTON","SUCCESS","createDialogStyles","getUser","currentUser","isolationUser","getIsolationScope","globalUser","getGlobalScope","feedbackModalIntegration","shadowRoot","userKey","user","originalOverflow","contains","overflow","renderContent","emit","createInput","hooks","IconCloseFactory","IconClose","cx","cy","strokeWidth","createScreenshotInputStyles","surface200","gray100","ToolbarFactory","Toolbar","action","setAction","useTakeScreenshotFactory","useDpi","dpi","setDpi","useState","devicePixelRatio","useEffect","onChange","media","matchMedia","useTakeScreenshot","onBeforeScreenshot","onScreenshot","onAfterScreenshot","takeScreenshot","stream","mediaDevices","getDisplayMedia","video","innerWidth","innerHeight","audio","monitorTypeSurfaces","preferCurrentTab","selfBrowserSurface","surfaceSwitching","srcObject","onloadedmetadata","getTracks","track","stop","play","catch","drawRect","command","ctx","color","shadowColor","shadowBlur","fillStyle","fillRect","clearRect","with2dContext","canvas","callback","getContext","paintImage","maybeDest","alpha","destCanvas","destCtx","drawImage","paintForeground","maybeCanvas","strokeColor","drawCommands","ScreenshotEditorFactory","outputBuffer","editorStyleInnerText","innerText","dialogStyle","ScreenshotEditor","screenshot","setDrawCommands","measurementRef","useRef","backgroundRef","foregroundRef","mouseRef","scaleFactor","setScaleFactor","useMemo","sentryFeedback","getElementById","computedStyle","getComputedStyle","getPropertyValue","useLayoutEffect","handleResize","measurementDiv","scale","Math","min","clientWidth","clientHeight","setCanvasSize","useCallback","handleMouseDown","boundingRect","getBoundingClientRect","startingPoint","offsetX","offsetY","getDrawCommand","clientX","clientY","abs","handleMouseMove","handleMouseUp","drawCommand","deleteRect","index","updatedRects","splice","dimensions","handleStopPropagation","nonce","onMouseDown","map","rect","top","left","onMouseUp","Wrapper","setScreenshot","display","screenshotVideo","videoWidth","videoHeight","feedbackScreenshotIntegration","blob","toBlob","Uint8Array","arrayBuffer","filename","contentType"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/constants/index.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/sendFeedback.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/util/debug-build.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/util/isScreenshotSupported.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/util/mergeOptions.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/components/Actor.css.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/util/setAttributesNS.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/components/FeedbackIcon.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/components/Actor.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/createMainStyles.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/integration.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/core/getFeedback.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/node_modules/preact/dist/preact.mjs","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/node_modules/preact/hooks/dist/hooks.mjs","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/SentryLogo.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/DialogHeader.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/util/validate.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/Form.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/SuccessIcon.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/Dialog.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/components/Dialog.css.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/modal/integration.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/components/IconClose.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/components/ScreenshotInput.css.ts","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/components/Toolbar.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/components/useTakeScreenshot.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/components/ScreenshotEditor.tsx","/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry-internal/feedback/src/screenshot/integration.ts"],"sourcesContent":["import { GLOBAL_OBJ } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nexport const WINDOW = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\nexport const DOCUMENT = WINDOW.document;\nexport const NAVIGATOR = WINDOW.navigator;\n\nexport const TRIGGER_LABEL = 'Report a Bug';\nexport const CANCEL_BUTTON_LABEL = 'Cancel';\nexport const SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nexport const CONFIRM_BUTTON_LABEL = 'Confirm';\nexport const FORM_TITLE = 'Report a Bug';\nexport const EMAIL_PLACEHOLDER = 'your.email@example.org';\nexport const EMAIL_LABEL = 'Email';\nexport const MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nexport const MESSAGE_LABEL = 'Description';\nexport const NAME_PLACEHOLDER = 'Your Name';\nexport const NAME_LABEL = 'Name';\nexport const SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nexport const IS_REQUIRED_LABEL = '(required)';\nexport const ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nexport const REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\n\nexport const FEEDBACK_WIDGET_SOURCE = 'widget';\nexport const FEEDBACK_API_SOURCE = 'api';\n\nexport const SUCCESS_MESSAGE_TIMEOUT = 5000;\n","import type { Event, EventHint, SendFeedback, SendFeedbackParams, TransportMakeRequestResponse } from '@sentry/core';\nimport { captureFeedback, getClient, getCurrentScope, getLocationHref } from '@sentry/core';\nimport { FEEDBACK_API_SOURCE } from '../constants';\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nexport const sendFeedback: SendFeedback = (\n  params: SendFeedbackParams,\n  hint: EventHint & { includeReplay?: boolean } = { includeReplay: true },\n): Promise<string> => {\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = getClient();\n\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n\n  if (params.tags && Object.keys(params.tags).length) {\n    getCurrentScope().setTags(params.tags);\n  }\n  const eventId = captureFeedback(\n    {\n      source: FEEDBACK_API_SOURCE,\n      url: getLocationHref(),\n      ...params,\n    },\n    hint,\n  );\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise<string>((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30_000);\n\n    const cleanup = client.on('afterSendEvent', (event: Event, response: TransportMakeRequestResponse) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (\n        response &&\n        typeof response.statusCode === 'number' &&\n        response.statusCode >= 200 &&\n        response.statusCode < 300\n      ) {\n        return resolve(eventId);\n      }\n\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 0) {\n        return reject(\n          'Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker.',\n        );\n      }\n\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 403) {\n        return reject(\n          'Unable to send Feedback. This could be because this domain is not in your list of allowed domains.',\n        );\n      }\n\n      return reject(\n        'Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker',\n      );\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n","declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n","import { NAVIGATOR } from '../constants';\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nexport function isScreenshotSupported(): boolean {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\nimport type { OptionalFeedbackConfiguration } from '../core/types';\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nexport function mergeOptions(\n  defaultOptions: FeedbackInternalOptions,\n  optionOverrides: OptionalFeedbackConfiguration,\n): FeedbackInternalOptions {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags,\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data: FeedbackFormData, eventId: string) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: (error: Error) => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark,\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight,\n    },\n  };\n}\n","import { DOCUMENT } from '../../constants';\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createActorStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nexport function setAttributesNS<T extends SVGElement>(el: T, attributes: Record<string, string>): T {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\n","import { WINDOW } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst SIZE = 20;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nexport function FeedbackIcon(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',\n  });\n  svg.appendChild(g).appendChild(path);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n","import { DOCUMENT, TRIGGER_LABEL } from '../../constants';\nimport { createActorStyles } from './Actor.css';\nimport { FeedbackIcon } from './FeedbackIcon';\n\nexport interface ActorProps {\n  triggerLabel: string;\n  triggerAriaLabel: string;\n  shadow: ShadowRoot;\n  styleNonce?: string;\n}\n\nexport interface ActorComponent {\n  el: HTMLElement;\n\n  appendToDom: () => void;\n\n  removeFromDom: () => void;\n\n  show: () => void;\n\n  hide: () => void;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nexport function Actor({ triggerLabel, triggerAriaLabel, shadow, styleNonce }: ActorProps): ActorComponent {\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n\n  const style = createActorStyles(styleNonce);\n\n  return {\n    el,\n    appendToDom(): void {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom(): void {\n      el.remove();\n      style.remove();\n    },\n    show(): void {\n      el.ariaHidden = 'false';\n    },\n    hide(): void {\n      el.ariaHidden = 'true';\n    },\n  };\n}\n","import type { FeedbackInternalOptions } from '@sentry/core';\nimport { DOCUMENT } from '../constants';\n\nconst PURPLE = 'rgba(88, 74, 192, 1)';\n\ninterface InternalTheme extends NonNullable<FeedbackInternalOptions['themeLight']> {\n  border: string;\n  interactiveFilter: string;\n}\n\nconst DEFAULT_LIGHT: InternalTheme = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)',\n};\nconst DEFAULT_DARK: InternalTheme = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)',\n};\n\nfunction getThemedCssVariables(theme: InternalTheme): string {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createMainStyles({\n  colorScheme,\n  themeDark,\n  themeLight,\n  styleNonce,\n}: FeedbackInternalOptions): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(\n    colorScheme === 'dark' ? { ...DEFAULT_DARK, ...themeDark } : { ...DEFAULT_LIGHT, ...themeLight },\n  )}\n}\n\n${\n  colorScheme === 'system'\n    ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({ ...DEFAULT_DARK, ...themeDark })}\n  }\n}`\n    : ''\n}\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type {\n  FeedbackInternalOptions,\n  FeedbackModalIntegration,\n  FeedbackScreenshotIntegration,\n  Integration,\n  IntegrationFn,\n} from '@sentry/core';\nimport { addIntegration, debug, isBrowser } from '@sentry/core';\nimport {\n  ADD_SCREENSHOT_LABEL,\n  CANCEL_BUTTON_LABEL,\n  CONFIRM_BUTTON_LABEL,\n  DOCUMENT,\n  EMAIL_LABEL,\n  EMAIL_PLACEHOLDER,\n  FORM_TITLE,\n  IS_REQUIRED_LABEL,\n  MESSAGE_LABEL,\n  MESSAGE_PLACEHOLDER,\n  NAME_LABEL,\n  NAME_PLACEHOLDER,\n  REMOVE_SCREENSHOT_LABEL,\n  SUBMIT_BUTTON_LABEL,\n  SUCCESS_MESSAGE_TEXT,\n  TRIGGER_LABEL,\n} from '../constants';\nimport { DEBUG_BUILD } from '../util/debug-build';\nimport { isScreenshotSupported } from '../util/isScreenshotSupported';\nimport { mergeOptions } from '../util/mergeOptions';\nimport type { ActorComponent } from './components/Actor';\nimport { Actor } from './components/Actor';\nimport { createMainStyles } from './createMainStyles';\nimport { sendFeedback } from './sendFeedback';\nimport type { OptionalFeedbackConfiguration, OverrideFeedbackConfiguration } from './types';\n\ntype Unsubscribe = () => void;\n\n/**\n * Allow users to capture user feedback and send it to Sentry.\n */\n\ntype BuilderOptions =\n  | {\n      lazyLoadIntegration?: never;\n      getModalIntegration: () => IntegrationFn;\n      getScreenshotIntegration: () => IntegrationFn;\n    }\n  | {\n      // The type here should be `keyof typeof LazyLoadableIntegrations`, but that'll cause a cicrular\n      // dependency with @sentry/core\n      lazyLoadIntegration: (\n        name: 'feedbackModalIntegration' | 'feedbackScreenshotIntegration',\n        scriptNonce?: string,\n      ) => Promise<IntegrationFn>;\n      getModalIntegration?: never;\n      getScreenshotIntegration?: never;\n    };\n\nexport const buildFeedbackIntegration = ({\n  lazyLoadIntegration,\n  getModalIntegration,\n  getScreenshotIntegration,\n}: BuilderOptions): IntegrationFn<\n  Integration & {\n    attachTo(el: Element | string, optionOverrides?: OverrideFeedbackConfiguration): Unsubscribe;\n    createForm(\n      optionOverrides?: OverrideFeedbackConfiguration,\n    ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>>;\n    createWidget(optionOverrides?: OverrideFeedbackConfiguration): ActorComponent;\n    remove(): void;\n  }\n> => {\n  const feedbackIntegration = (({\n    // FeedbackGeneralConfiguration\n    id = 'sentry-feedback',\n    autoInject = true,\n    showBranding = true,\n    isEmailRequired = false,\n    isNameRequired = false,\n    showEmail = true,\n    showName = true,\n    enableScreenshot = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username',\n    },\n    tags,\n    styleNonce,\n    scriptNonce,\n\n    // FeedbackThemeConfiguration\n    colorScheme = 'system',\n    themeLight = {},\n    themeDark = {},\n\n    // FeedbackTextConfiguration\n    addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n    emailLabel = EMAIL_LABEL,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    formTitle = FORM_TITLE,\n    isRequiredLabel = IS_REQUIRED_LABEL,\n    messageLabel = MESSAGE_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n    triggerLabel = TRIGGER_LABEL,\n    triggerAriaLabel = '',\n\n    // FeedbackCallbacks\n    onFormOpen,\n    onFormClose,\n    onSubmitSuccess,\n    onSubmitError,\n    onFormSubmitted,\n  }: OptionalFeedbackConfiguration = {}) => {\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n\n      colorScheme,\n      themeDark,\n      themeLight,\n\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted,\n    };\n\n    let _shadow: ShadowRoot | null = null;\n    let _subscriptions: Unsubscribe[] = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = (options: FeedbackInternalOptions): ShadowRoot => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n\n        _shadow = host.attachShadow({ mode: 'open' });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow as ShadowRoot;\n    };\n\n    const _loadAndRenderDialog = async (\n      options: FeedbackInternalOptions,\n    ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>> => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n\n      let modalIntegration: FeedbackModalIntegration;\n      let screenshotIntegration: FeedbackScreenshotIntegration | undefined;\n\n      try {\n        const modalIntegrationFn = getModalIntegration\n          ? getModalIntegration()\n          : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn() as FeedbackModalIntegration;\n        addIntegration(modalIntegration);\n      } catch {\n        DEBUG_BUILD &&\n          debug.error(\n            '[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.',\n          );\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n\n      try {\n        const screenshotIntegrationFn = screenshotRequired\n          ? getScreenshotIntegration\n            ? getScreenshotIntegration()\n            : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce)\n          : undefined;\n\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn() as FeedbackScreenshotIntegration;\n          addIntegration(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD &&\n          debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          },\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options),\n      });\n\n      return dialog;\n    };\n\n    const _attachTo = (el: Element | string, optionOverrides: OverrideFeedbackConfiguration = {}): Unsubscribe => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n\n      const targetEl =\n        typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n\n      if (!targetEl) {\n        DEBUG_BUILD && debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n\n      let dialog: ReturnType<FeedbackModalIntegration['createDialog']> | null = null;\n      const handleClick = async (): Promise<void> => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            },\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = (): void => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n\n    const _createActor = (optionOverrides: OverrideFeedbackConfiguration = {}): ActorComponent => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce,\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        },\n      });\n      return actor;\n    };\n\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!isBrowser() || !_options.autoInject) {\n          return;\n        }\n\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget(optionOverrides: OverrideFeedbackConfiguration = {}): ActorComponent {\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm(\n        optionOverrides: OverrideFeedbackConfiguration = {},\n      ): Promise<ReturnType<FeedbackModalIntegration['createDialog']>> {\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove(): void {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      },\n    };\n  }) satisfies IntegrationFn;\n\n  return feedbackIntegration;\n};\n","import { getClient } from '@sentry/core';\nimport type { buildFeedbackIntegration } from './integration';\n\ntype FeedbackIntegration = ReturnType<typeof buildFeedbackIntegration>;\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nexport function getFeedback(): ReturnType<FeedbackIntegration> | undefined {\n  const client = getClient();\n  return client?.getIntegrationByName<ReturnType<FeedbackIntegration>>('Feedback');\n}\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function w(n,u,t){var i,o=n.__v,r=o.__e,f=n.__P;if(f)return(i=v({},o)).__v=o.__v+1,l.vnode&&l.vnode(i),M(f,i,o,n.__n,void 0!==f.ownerSVGElement,32&o.__u?[r]:null,u,null==r?m(o):r,!!(32&o.__u),t),i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=r&&k(i),i}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function x(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!C.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(C)}function C(){var n,u,t,o=[],r=[];for(i.sort(f);n=i.shift();)n.__d&&(t=i.length,u=w(n,o,r)||u,0===t||i.length>t?(j(o,u,r),r.length=o.length=0,u=void 0,i.sort(f)):u&&l.__c&&l.__c(u,s));u&&j(o,u,r),C.__r=0}function P(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,S(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,M(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=$(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function S(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=I(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),O(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),O(o,o))}function $(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=$(t[i],l,u));return l}n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function I(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?L:D,o)):n.removeEventListener(l,o?L:D,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function D(n){if(this.l){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}}function L(n){if(this.l)return this.l[n.type+!0](l.event?l.event(n):n)}function M(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,w,k,x,C,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(k=u.props,x=(a=A.contextType)&&i[a.__c],C=a?x?x.props.value:a.__:i,t.__c?w=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(k,C):(u.__c=p=new b(k,C),p.constructor=A,p.render=q),x&&x.sub(p),p.props=k,p.state||(p.state={}),p.context=C,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(k,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&k!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,C),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,C)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=k,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,C),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=C,p.props=k,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),P(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),w&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,w=t.props,k=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(k);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,k.is&&k),r=null,e=!1}if(null===x)w===k||e&&l.data===k||(l.data=k);else{if(r=r&&n.call(l.childNodes),w=t.props||c,!e&&null!=r)for(w={},a=0;a<l.attributes.length;a++)w[(_=l.attributes[a]).name]=_.value;for(a in w)_=w[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in k||A(l,a,null,_,o));for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||w[a]===_||A(l,a,_,w[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),P(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==w[a])&&A(l,a,g,w[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&A(l,a,b,w[a],!1))}return l}function N(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function O(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&O(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],M(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),u.__d=void 0,j(f,u,e)}function E(n,l){B(n,l,E)}function F(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,x(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),x(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),x(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},C.__r=0,e=0;export{b as Component,g as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n,a=e.__b,v=e.__r,l=e.diffed,m=e.__c,s=e.unmount,d=e.__;function h(n,t){e.__h&&e.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({__V:c}),u.__[n]}function p(n){return o=1,y(D,n)}function y(n,u,i){var o=h(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function _(n,u){var i=h(t++,3);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i))}function A(n,u){var i=h(t++,4);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i))}function F(n){return o=5,q(function(){return{current:n}},[])}function T(n,t,r){o=6,A(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function q(n,r){var u=h(t++,7);return C(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function x(n,t){return o=8,q(function(){return n},t)}function P(n){var u=r.context[n.__c],i=h(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function V(n,t){e.useDebugValue&&e.useDebugValue(t?t(n):n)}function b(n){var u=h(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=h(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}}e.__b=function(n){r=null,a&&a(n)},e.__=function(n,t){t.__k&&t.__k.__m&&(n.__m=t.__k.__m),d&&d(n,t)},e.__r=function(n){v&&v(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},e.diffed=function(n){l&&l(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===e.requestAnimationFrame||((i=e.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},e.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],e.__e(r,n.__v)}}),m&&m(n,t)},e.unmount=function(n){s&&s(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&e.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{x as useCallback,P as useContext,V as useDebugValue,_ as useEffect,b as useErrorBoundary,g as useId,T as useImperativeHandle,A as useLayoutEffect,q as useMemo,y as useReducer,F as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { DOCUMENT } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nexport function SentryLogo(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    DOCUMENT.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',\n  });\n  svg.appendChild(path);\n\n  return svg;\n}\n","import type { FeedbackInternalOptions } from '@sentry/core';\nimport type { VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useMemo } from 'preact/hooks';\nimport { SentryLogo } from './SentryLogo';\n\nexport interface Props {\n  options: FeedbackInternalOptions;\n}\n\nexport function DialogHeader({ options }: Props): VNode {\n  const logoHtml = useMemo(() => ({ __html: SentryLogo().outerHTML }), []);\n\n  return (\n    <h2 class=\"dialog__header\">\n      <span class=\"dialog__title\">{options.formTitle}</span>\n      {options.showBranding ? (\n        <a\n          class=\"brand-link\"\n          target=\"_blank\"\n          href=\"https://sentry.io/welcome/\"\n          title=\"Powered by Sentry\"\n          rel=\"noopener noreferrer\"\n          dangerouslySetInnerHTML={logoHtml}\n        />\n      ) : null}\n    </h2>\n  );\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\n\nexport type Props = Pick<\n  FeedbackInternalOptions,\n  'emailLabel' | 'isEmailRequired' | 'isNameRequired' | 'messageLabel' | 'nameLabel'\n>;\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nexport function getMissingFields(feedback: FeedbackFormData, props: Props): string[] {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n\n  return emptyFields;\n}\n","import type {\n  FeedbackFormData,\n  FeedbackInternalOptions,\n  FeedbackScreenshotIntegration,\n  SendFeedback,\n} from '@sentry/core';\nimport { debug } from '@sentry/core';\nimport type { JSX, VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useCallback, useState } from 'preact/hooks';\nimport { FEEDBACK_WIDGET_SOURCE } from '../../constants';\nimport { DEBUG_BUILD } from '../../util/debug-build';\nimport { getMissingFields } from '../../util/validate';\n\nexport interface Props extends Pick<FeedbackInternalOptions, 'showEmail' | 'showName'> {\n  options: FeedbackInternalOptions;\n  defaultEmail: string;\n  defaultName: string;\n  onFormClose: () => void;\n  onSubmit: SendFeedback;\n  onSubmitSuccess: (data: FeedbackFormData, eventId: string) => void;\n  onSubmitError: (error: Error) => void;\n  screenshotInput: ReturnType<FeedbackScreenshotIntegration['createInput']> | undefined;\n}\n\nfunction retrieveStringValue(formData: FormData, key: string): string {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\nexport function Form({\n  options,\n  defaultEmail,\n  defaultName,\n\n  onFormClose,\n  onSubmit,\n  onSubmitSuccess,\n  onSubmitError,\n  showEmail,\n  showName,\n  screenshotInput,\n}: Props): VNode {\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel,\n  } = options;\n  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = useState<null | string>(null);\n\n  const [showScreenshotInput, setShowScreenshotInput] = useState(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent: any = screenshotInput?.input;\n\n  const [screenshotError, setScreenshotError] = useState<null | Error>(null);\n  const onScreenshotError = useCallback((error: Error) => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n\n  const hasAllRequiredFields = useCallback(\n    (data: FeedbackFormData) => {\n      const missingFields = getMissingFields(data, {\n        emailLabel,\n        isEmailRequired,\n        isNameRequired,\n        messageLabel,\n        nameLabel,\n      });\n\n      if (missingFields.length > 0) {\n        setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n      } else {\n        setError(null);\n      }\n\n      return missingFields.length === 0;\n    },\n    [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel],\n  );\n\n  const handleSubmit = useCallback(\n    async (e: JSX.TargetedSubmitEvent<HTMLFormElement>) => {\n      setIsSubmitting(true);\n      try {\n        e.preventDefault();\n        if (!(e.target instanceof HTMLFormElement)) {\n          return;\n        }\n        const formData = new FormData(e.target);\n        const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n\n        const data: FeedbackFormData = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message'),\n          attachments: attachment ? [attachment] : undefined,\n        };\n\n        if (!hasAllRequiredFields(data)) {\n          return;\n        }\n\n        try {\n          const eventId = await onSubmit(\n            {\n              name: data.name,\n              email: data.email,\n              message: data.message,\n              source: FEEDBACK_WIDGET_SOURCE,\n              tags,\n            },\n            { attachments: data.attachments },\n          );\n          onSubmitSuccess(data, eventId);\n        } catch (error) {\n          DEBUG_BUILD && debug.error(error);\n          setError(error as string);\n          onSubmitError(error as Error);\n        }\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n    [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError],\n  );\n\n  return (\n    <form class=\"form\" onSubmit={handleSubmit}>\n      {ScreenshotInputComponent && showScreenshotInput ? (\n        <ScreenshotInputComponent onError={onScreenshotError} />\n      ) : null}\n\n      <fieldset class=\"form__right\" data-sentry-feedback={true} disabled={isSubmitting}>\n        <div class=\"form__top\">\n          {error ? <div class=\"form__error-container\">{error}</div> : null}\n\n          {showName ? (\n            <label for=\"name\" class=\"form__label\">\n              <LabelText label={nameLabel} isRequiredLabel={isRequiredLabel} isRequired={isNameRequired} />\n              <input\n                class=\"form__input\"\n                defaultValue={defaultName}\n                id=\"name\"\n                name=\"name\"\n                placeholder={namePlaceholder}\n                required={isNameRequired}\n                type=\"text\"\n              />\n            </label>\n          ) : (\n            <input aria-hidden value={defaultName} name=\"name\" type=\"hidden\" />\n          )}\n\n          {showEmail ? (\n            <label for=\"email\" class=\"form__label\">\n              <LabelText label={emailLabel} isRequiredLabel={isRequiredLabel} isRequired={isEmailRequired} />\n              <input\n                class=\"form__input\"\n                defaultValue={defaultEmail}\n                id=\"email\"\n                name=\"email\"\n                placeholder={emailPlaceholder}\n                required={isEmailRequired}\n                type=\"email\"\n              ></input>\n            </label>\n          ) : (\n            <input aria-hidden value={defaultEmail} name=\"email\" type=\"hidden\" />\n          )}\n\n          <label for=\"message\" class=\"form__label\">\n            <LabelText label={messageLabel} isRequiredLabel={isRequiredLabel} isRequired />\n            <textarea\n              autoFocus\n              class=\"form__input form__input--textarea\"\n              id=\"message\"\n              name=\"message\"\n              placeholder={messagePlaceholder}\n              required={true}\n              rows={5}\n            />\n          </label>\n\n          {ScreenshotInputComponent ? (\n            <label for=\"screenshot\" class=\"form__label\">\n              <button\n                class=\"btn btn--default\"\n                disabled={isSubmitting}\n                type=\"button\"\n                onClick={() => {\n                  setScreenshotError(null);\n                  setShowScreenshotInput(prev => !prev);\n                }}\n              >\n                {showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel}\n              </button>\n              {screenshotError ? <div class=\"form__error-container\">{screenshotError.message}</div> : null}\n            </label>\n          ) : null}\n        </div>\n        <div class=\"btn-group\">\n          <button class=\"btn btn--primary\" disabled={isSubmitting} type=\"submit\">\n            {submitButtonLabel}\n          </button>\n          <button class=\"btn btn--default\" disabled={isSubmitting} type=\"button\" onClick={onFormClose}>\n            {cancelButtonLabel}\n          </button>\n        </div>\n      </fieldset>\n    </form>\n  );\n}\n\nfunction LabelText({\n  label,\n  isRequired,\n  isRequiredLabel,\n}: {\n  label: string;\n  isRequired: boolean;\n  isRequiredLabel: string;\n}): VNode {\n  return (\n    <span class=\"form__label__text\">\n      {label}\n      {isRequired && <span class=\"form__label__text--required\">{isRequiredLabel}</span>}\n    </span>\n  );\n}\n","import { WINDOW } from '../../constants';\nimport { setAttributesNS } from '../../util/setAttributesNS';\n\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nexport function SuccessIcon(): SVGElement {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)',\n  });\n\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',\n  });\n\n  svg.appendChild(g).append(path, path2);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n","import type { FeedbackFormData, FeedbackInternalOptions } from '@sentry/core';\nimport type { VNode } from 'preact';\nimport { Fragment, h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { SUCCESS_MESSAGE_TIMEOUT } from '../../constants';\nimport type { Props as HeaderProps } from './DialogHeader';\nimport { DialogHeader } from './DialogHeader';\nimport type { Props as FormProps } from './Form';\nimport { Form } from './Form';\nimport { SuccessIcon } from './SuccessIcon';\n\ninterface Props extends HeaderProps, FormProps {\n  onFormSubmitted: () => void;\n  open: boolean;\n  options: FeedbackInternalOptions;\n}\n\nexport function Dialog({ open, onFormSubmitted, ...props }: Props): VNode {\n  const options = props.options;\n  const successIconHtml = useMemo(() => ({ __html: SuccessIcon().outerHTML }), []);\n\n  const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | null>(null);\n\n  const handleOnSuccessClick = useCallback(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n\n  const onSubmitSuccess = useCallback(\n    (data: FeedbackFormData, eventId: string) => {\n      props.onSubmitSuccess(data, eventId);\n      setTimeoutId(\n        setTimeout(() => {\n          onFormSubmitted();\n          setTimeoutId(null);\n        }, SUCCESS_MESSAGE_TIMEOUT),\n      );\n    },\n    [onFormSubmitted],\n  );\n\n  return (\n    <Fragment>\n      {timeoutId ? (\n        <div class=\"success__position\" onClick={handleOnSuccessClick}>\n          <div class=\"success__content\">\n            {options.successMessageText}\n            <span class=\"success__icon\" dangerouslySetInnerHTML={successIconHtml} />\n          </div>\n        </div>\n      ) : (\n        <dialog class=\"dialog\" onClick={options.onFormClose} open={open}>\n          <div class=\"dialog__position\">\n            <div\n              class=\"dialog__content\"\n              onClick={e => {\n                // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n                e.stopPropagation();\n              }}\n            >\n              <DialogHeader options={options} />\n              <Form {...props} onSubmitSuccess={onSubmitSuccess} />\n            </div>\n          </div>\n        </dialog>\n      )}\n    </Fragment>\n  );\n}\n","import { DOCUMENT } from '../../constants';\n\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\n\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\n\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\n\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\n\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nexport function createDialogStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type { FeedbackFormData, FeedbackModalIntegration, IntegrationFn, User } from '@sentry/core';\nimport { getClient, getCurrentScope, getGlobalScope, getIsolationScope } from '@sentry/core';\nimport { h, render } from 'preact';\nimport * as hooks from 'preact/hooks';\nimport { DOCUMENT } from '../constants';\nimport { Dialog } from './components/Dialog';\nimport { createDialogStyles } from './components/Dialog.css';\n\nfunction getUser(): User | undefined {\n  const currentUser = getCurrentScope().getUser();\n  const isolationUser = getIsolationScope().getUser();\n  const globalUser = getGlobalScope().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\n\nexport const feedbackModalIntegration = ((): FeedbackModalIntegration => {\n  return {\n    name: 'FeedbackModal',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createDialog: ({ options, screenshotIntegration, sendFeedback, shadow }) => {\n      const shadowRoot = shadow as unknown as ShadowRoot;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n\n      let originalOverflow = '';\n      const dialog: ReturnType<FeedbackModalIntegration['createDialog']> = {\n        get el() {\n          return el;\n        },\n        appendToDom(): void {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom(): void {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          getClient()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n      };\n\n      const screenshotInput = screenshotIntegration?.createInput({ h, hooks, dialog, options });\n\n      const renderContent = (open: boolean): void => {\n        render(\n          <Dialog\n            options={options}\n            screenshotInput={screenshotInput}\n            showName={options.showName || options.isNameRequired}\n            showEmail={options.showEmail || options.isEmailRequired}\n            defaultName={(userKey && user?.[userKey.name]) || ''}\n            defaultEmail={(userKey && user?.[userKey.email]) || ''}\n            onFormClose={() => {\n              renderContent(false);\n              options.onFormClose?.();\n            }}\n            onSubmit={sendFeedback}\n            onSubmitSuccess={(data: FeedbackFormData, eventId: string) => {\n              renderContent(false);\n              options.onSubmitSuccess?.(data, eventId);\n            }}\n            onSubmitError={(error: Error) => {\n              options.onSubmitError?.(error);\n            }}\n            onFormSubmitted={() => {\n              options.onFormSubmitted?.();\n            }}\n            open={open}\n          />,\n          el,\n        );\n      };\n\n      return dialog;\n    },\n  };\n}) satisfies IntegrationFn;\n","import type { h as hType, VNode } from 'preact';\n\ninterface FactoryParams {\n  h: typeof hType;\n}\n\nexport default function IconCloseFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}: FactoryParams) {\n  return function IconClose(): VNode {\n    return (\n      <svg data-test-id=\"icon-close\" viewBox=\"0 0 16 16\" fill=\"#2B2233\" height=\"25px\" width=\"25px\">\n        <circle r=\"7\" cx=\"8\" cy=\"8\" fill=\"white\" />\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\"\n        ></path>\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\"\n        ></path>\n        <path\n          strokeWidth=\"1.5\"\n          d=\"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\"\n        ></path>\n      </svg>\n    );\n  };\n}\n","import { DOCUMENT } from '../../constants';\n\n/**\n * Creates <style> element for widget dialog\n */\nexport function createScreenshotInputStyles(styleNonce?: string): HTMLStyleElement {\n  const style = DOCUMENT.createElement('style');\n\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n","import type { h as hType, VNode } from 'preact';\nimport type * as Hooks from 'preact/hooks';\n\ninterface FactoryParams {\n  h: typeof hType;\n}\n\nexport default function ToolbarFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}: FactoryParams) {\n  return function Toolbar({\n    action,\n    setAction,\n  }: {\n    action: 'highlight' | 'hide' | '';\n    setAction: Hooks.StateUpdater<'highlight' | 'hide' | ''>;\n  }): VNode {\n    return (\n      <div class=\"editor__tool-container\">\n        <div class=\"editor__tool-bar\">\n          <button\n            type=\"button\"\n            class={`editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`}\n            onClick={() => {\n              setAction(action === 'highlight' ? '' : 'highlight');\n            }}\n          >\n            Highlight\n          </button>\n          <button\n            type=\"button\"\n            class={`editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`}\n            onClick={() => {\n              setAction(action === 'hide' ? '' : 'hide');\n            }}\n          >\n            Hide\n          </button>\n        </div>\n      </div>\n    );\n  };\n}\n","import type * as Hooks from 'preact/hooks';\nimport { DOCUMENT, NAVIGATOR, WINDOW } from '../../constants';\n\ninterface FactoryParams {\n  hooks: typeof Hooks;\n}\n\ninterface Props {\n  onBeforeScreenshot: () => void;\n  onScreenshot: (imageSource: HTMLVideoElement, dpi: number) => void;\n  onAfterScreenshot: () => void;\n  onError: (error: Error) => void;\n}\n\ntype UseTakeScreenshot = ({ onBeforeScreenshot, onScreenshot, onAfterScreenshot, onError }: Props) => void;\n\nexport function useTakeScreenshotFactory({ hooks }: FactoryParams): UseTakeScreenshot {\n  function useDpi(): number {\n    const [dpi, setDpi] = hooks.useState<number>(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = (): void => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n\n    return dpi;\n  }\n\n  return function useTakeScreenshot({ onBeforeScreenshot, onScreenshot, onAfterScreenshot, onError }: Props) {\n    const dpi = useDpi();\n\n    hooks.useEffect(() => {\n      const takeScreenshot = async (): Promise<void> => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi,\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude',\n        });\n\n        const video = DOCUMENT.createElement('video');\n        await new Promise<void>((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\n","import type { FeedbackInternalOptions, FeedbackModalIntegration } from '@sentry/core';\nimport type { ComponentType, h as hType, VNode } from 'preact';\nimport { h } from 'preact'; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport type * as Hooks from 'preact/hooks';\nimport { DOCUMENT, WINDOW } from '../../constants';\nimport IconCloseFactory from './IconClose';\nimport { createScreenshotInputStyles } from './ScreenshotInput.css';\nimport ToolbarFactory from './Toolbar';\nimport { useTakeScreenshotFactory } from './useTakeScreenshot';\n\ninterface FactoryParams {\n  h: typeof hType;\n  hooks: typeof Hooks;\n\n  /**\n   * A ref to a Canvas Element that serves as our \"value\" or image output.\n   */\n  outputBuffer: HTMLCanvasElement;\n\n  /**\n   * A reference to the whole dialog (the parent of this component) so that we\n   * can show/hide it and take a clean screenshot of the webpage.\n   */\n  dialog: ReturnType<FeedbackModalIntegration['createDialog']>;\n\n  /**\n   * The whole options object.\n   *\n   * Needed to set nonce and id values for editor specific styles\n   */\n  options: FeedbackInternalOptions;\n}\n\ninterface Props {\n  onError: (error: Error) => void;\n}\n\ntype MaybeCanvas = HTMLCanvasElement | null;\ntype Screenshot = { canvas: HTMLCanvasElement; dpi: number };\n\ntype DrawType = 'highlight' | 'hide' | '';\ninterface DrawCommand {\n  type: DrawType;\n  x: number;\n  y: number;\n  h: number;\n  w: number;\n}\n\nfunction drawRect(command: DrawCommand, ctx: CanvasRenderingContext2D, color: string): void {\n  switch (command.type) {\n    case 'highlight': {\n      // creates a shadow around\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n      ctx.shadowBlur = 50;\n\n      // draws a rectangle first with a shadow\n      ctx.fillStyle = color;\n      ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n      // cut out the inside of the rectangle\n      ctx.clearRect(command.x, command.y, command.w, command.h);\n\n      break;\n    }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n\n      break;\n    default:\n      break;\n  }\n}\n\nfunction with2dContext(\n  canvas: MaybeCanvas,\n  options: CanvasRenderingContext2DSettings,\n  callback: (canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D) => void,\n): void {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\n\nfunction paintImage(maybeDest: MaybeCanvas, source: HTMLCanvasElement): void {\n  with2dContext(maybeDest, { alpha: true }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas: MaybeCanvas, strokeColor: string, drawCommands: DrawCommand[]): void {\n  with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\n\nexport function ScreenshotEditorFactory({\n  h,\n  hooks,\n  outputBuffer,\n  dialog,\n  options,\n}: FactoryParams): ComponentType<Props> {\n  const useTakeScreenshot = useTakeScreenshotFactory({ hooks });\n  const Toolbar = ToolbarFactory({ h });\n  const IconClose = IconCloseFactory({ h });\n  const editorStyleInnerText = { __html: createScreenshotInputStyles(options.styleNonce).innerText };\n\n  const dialogStyle = (dialog.el as HTMLElement).style;\n\n  const ScreenshotEditor = ({ screenshot }: { screenshot: Screenshot }): VNode => {\n    // Data for rendering:\n    const [action, setAction] = hooks.useState<DrawType>('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState<DrawCommand[]>([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef<HTMLDivElement | null>(null);\n    const backgroundRef = hooks.useRef<MaybeCanvas>(null);\n    const foregroundRef = hooks.useRef<MaybeCanvas>(null);\n    const mouseRef = hooks.useRef<HTMLDivElement | null>(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState<number>(1);\n\n    const strokeColor = hooks.useMemo((): string => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return (\n        computedStyle.getPropertyValue('--button-primary-background') ||\n        computedStyle.getPropertyValue('--accent-background')\n      );\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = (): void => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n\n        with2dContext(screenshot.canvas, { alpha: false }, canvas => {\n          const scale = Math.min(\n            measurementDiv.clientWidth / canvas.width,\n            measurementDiv.clientHeight / canvas.height,\n          );\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback(\n      (maybeCanvas: MaybeCanvas, scale: number): void => {\n        with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n          // Must call `scale()` before setting `width` & `height`\n          ctx.scale(scale, scale);\n          canvas.width = screenshot.canvas.width;\n          canvas.height = screenshot.canvas.height;\n        });\n      },\n      [screenshot],\n    );\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), { alpha: true }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n\n    const handleMouseDown = (e: MouseEvent): void => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint: DrawCommand = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor,\n        w: 0,\n        h: 0,\n      };\n\n      const getDrawCommand = (startingPoint: DrawCommand, e: MouseEvent): DrawCommand => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y),\n        } as DrawCommand;\n      };\n\n      const handleMouseMove = (e: MouseEvent): void => {\n        with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n\n      const handleMouseUp = (e: MouseEvent): void => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n\n    const deleteRect = hooks.useCallback((index: number): hType.JSX.MouseEventHandler<HTMLButtonElement> => {\n      return (e: MouseEvent): void => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`,\n    };\n\n    const handleStopPropagation = (e: MouseEvent): void => {\n      e.stopPropagation();\n    };\n\n    return (\n      <div class=\"editor\">\n        <style nonce={options.styleNonce} dangerouslySetInnerHTML={editorStyleInnerText} />\n        <div class=\"editor__image-container\">\n          <div class=\"editor__canvas-container\" ref={measurementRef}>\n            <canvas ref={backgroundRef} id=\"background\" style={dimensions} />\n            <canvas ref={foregroundRef} id=\"foreground\" style={dimensions} />\n            <div ref={mouseRef} onMouseDown={handleMouseDown} style={dimensions}>\n              {drawCommands.map((rect, index) => (\n                <div\n                  key={index}\n                  class=\"editor__rect\"\n                  style={{\n                    top: `${rect.y * scaleFactor}px`,\n                    left: `${rect.x * scaleFactor}px`,\n                    width: `${rect.w * scaleFactor}px`,\n                    height: `${rect.h * scaleFactor}px`,\n                  }}\n                >\n                  <button\n                    aria-label=\"Remove\"\n                    onClick={deleteRect(index)}\n                    onMouseDown={handleStopPropagation}\n                    onMouseUp={handleStopPropagation}\n                    type=\"button\"\n                  >\n                    <IconClose />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n        <Toolbar action={action} setAction={setAction} />\n      </div>\n    );\n  };\n\n  return function Wrapper({ onError }: Props): VNode {\n    const [screenshot, setScreenshot] = hooks.useState<undefined | Screenshot>();\n\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo: HTMLVideoElement, dpi: number) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), { alpha: false }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n\n          setScreenshot({ canvas, dpi });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, []),\n    });\n\n    if (screenshot) {\n      return <ScreenshotEditor screenshot={screenshot} />;\n    }\n\n    return <div />;\n  };\n}\n","import type { Attachment, FeedbackScreenshotIntegration, IntegrationFn } from '@sentry/core';\nimport type { h as hType } from 'preact';\nimport type * as Hooks from 'preact/hooks';\nimport { DOCUMENT } from '../constants';\nimport { ScreenshotEditorFactory } from './components/ScreenshotEditor';\n\nexport const feedbackScreenshotIntegration = ((): FeedbackScreenshotIntegration => {\n  return {\n    name: 'FeedbackScreenshot',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createInput: ({ h, hooks, dialog, options }) => {\n      const outputBuffer = DOCUMENT.createElement('canvas');\n\n      return {\n        input: ScreenshotEditorFactory({\n          h: h as typeof hType,\n          hooks: hooks as typeof Hooks,\n          outputBuffer,\n          dialog,\n          options,\n        }) as any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise<Parameters<BlobCallback>[0]>(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment: Attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png',\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        },\n      };\n    },\n  };\n}) satisfies IntegrationFn;\n"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AAED,MAAMC,aAAA,GAAgB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,IAAA,GAAO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,MAAA,GAAS;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,OAAA,GAAU;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}