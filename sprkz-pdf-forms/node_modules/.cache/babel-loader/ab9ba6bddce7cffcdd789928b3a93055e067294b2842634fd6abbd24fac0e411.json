{"ast":null,"code":"import React from'react';import{Button,Box,Typography,CircularProgress,Tooltip,useTheme}from'@mui/material';import{PlayArrow,NavigateNext,Edit,Send,CheckCircle,Warning}from'@mui/icons-material';import{useWizard}from'../../contexts/WizardContext';import{microInteractionStyles,createMicroInteraction}from'../../utils/microInteractions';import{useFeatureFlag}from'../../hooks/useFeatureFlags';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const WizardButton=_ref=>{let{size='large',showProgress=true,showGuidance=true,disabled=false,className}=_ref;const theme=useTheme();const wizard=useWizard();const buttonState=wizard.getCurrentButtonState();// Feature flags for wizard functionality\nconst{isEnabled:enhancedWizardMode}=useFeatureFlag('ENHANCED_WIZARD_MODE');const{isEnabled:progressiveFormFilling}=useFeatureFlag('PROGRESSIVE_FORM_FILLING');const{isEnabled:animationEffects}=useFeatureFlag('ANIMATION_EFFECTS');const{isEnabled:smartFieldDetection}=useFeatureFlag('SMART_FIELD_DETECTION');// Get button color mapping for Material-UI\nconst getButtonColor=color=>{switch(color){case'primary':return'primary';// Blue\ncase'secondary':return'secondary';// Orange  \ncase'success':return'success';// Green\ncase'info':return'info';// Purple\ncase'warning':return'warning';// Yellow\ncase'error':return'error';// Red\ndefault:return'primary';}};// Get button icon based on wizard state\nconst getButtonIcon=wizardState=>{switch(wizardState){case'start':return/*#__PURE__*/_jsx(PlayArrow,{});case'next':return/*#__PURE__*/_jsx(NavigateNext,{});case'sign':return/*#__PURE__*/_jsx(Edit,{});case'submit':return/*#__PURE__*/_jsx(Send,{});case'complete':return/*#__PURE__*/_jsx(CheckCircle,{});default:return/*#__PURE__*/_jsx(PlayArrow,{});}};// Get progress color based on completion\nconst getProgressColor=()=>{const percentage=wizard.state.completionPercentage;if(percentage>=100)return theme.palette.success.main;if(percentage>=75)return theme.palette.info.main;if(percentage>=50)return theme.palette.warning.main;return theme.palette.primary.main;};// Get guidance text\nconst getGuidanceText=()=>{const state=wizard.state;switch(state.wizardState){case'start':return`Begin completing ${state.totalRequiredFields} required field${state.totalRequiredFields===1?'':'s'}`;case'next':if(state.currentField){return`Navigate to \"${state.currentField.name}\" on page ${state.currentField.page}`;}const remaining=state.totalRequiredFields-state.completedFields.length;return`${remaining} required field${remaining===1?'':'s'} remaining`;case'sign':if(state.currentField){return`Sign \"${state.currentField.name}\" on page ${state.currentField.page}`;}return`Complete signature fields`;case'submit':return`All fields complete - ready to submit`;case'complete':return`Form submitted successfully!`;default:return'';}};// Handle button click\nconst handleClick=()=>{if(!disabled&&!buttonState.disabled){buttonState.action();}};const isDisabled=disabled||buttonState.disabled;const buttonColor=getButtonColor(buttonState.color);return/*#__PURE__*/_jsxs(Box,{className:className,sx:{display:'flex',flexDirection:'column',alignItems:'center',gap:1},children:[showProgress&&enhancedWizardMode&&wizard.state.totalRequiredFields>0&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',display:'inline-flex'},children:[/*#__PURE__*/_jsx(CircularProgress,{variant:\"determinate\",value:wizard.state.completionPercentage,size:24,thickness:4,sx:{color:getProgressColor(),...(animationEffects?microInteractionStyles.pulseLoading:{}),'& .MuiCircularProgress-circle':{strokeLinecap:'round'}}}),/*#__PURE__*/_jsx(Box,{sx:{top:0,left:0,bottom:0,right:0,position:'absolute',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",component:\"div\",color:\"textSecondary\",sx:{fontSize:'0.625rem',fontWeight:'bold'},children:[wizard.state.completionPercentage,\"%\"]})})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"textSecondary\",children:[wizard.state.completedFields.length,\" of \",wizard.state.totalRequiredFields,\" completed\"]})]}),/*#__PURE__*/_jsx(Tooltip,{title:isDisabled?\"Complete current field to continue\":getGuidanceText(),arrow:true,placement:\"top\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:buttonColor,size:size,disabled:isDisabled,onClick:handleClick,startIcon:getButtonIcon(wizard.state.wizardState),sx:{minWidth:size==='large'?160:size==='medium'?120:100,minHeight:size==='large'?48:size==='medium'?40:32,fontSize:size==='large'?'1.1rem':size==='medium'?'0.9rem':'0.8rem',fontWeight:600,borderRadius:3,boxShadow:theme.shadows[3],...(animationEffects?createMicroInteraction.hoverLift(1,theme.shadows[6]):{}),...microInteractionStyles.focusRing,'&.Mui-disabled':{backgroundColor:theme.palette.action.disabledBackground,color:theme.palette.action.disabled},// Color-specific enhancements\n...(buttonColor==='primary'&&{background:`linear-gradient(45deg, ${theme.palette.primary.main} 30%, ${theme.palette.primary.light} 90%)`}),...(buttonColor==='secondary'&&{background:`linear-gradient(45deg, ${theme.palette.secondary.main} 30%, ${theme.palette.secondary.light} 90%)`}),...(buttonColor==='success'&&{background:`linear-gradient(45deg, ${theme.palette.success.main} 30%, ${theme.palette.success.light} 90%)`}),...(buttonColor==='info'&&{background:`linear-gradient(45deg, ${theme.palette.info.main} 30%, ${theme.palette.info.light} 90%)`})},children:buttonState.text})})}),showGuidance&&enhancedWizardMode&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",align:\"center\",sx:{maxWidth:200,lineHeight:1.2,mt:0.5,...(animationEffects?microInteractionStyles.fadeIn:{})},children:getGuidanceText()}),smartFieldDetection&&wizard.state.currentField&&wizard.state.currentField.validationErrors.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:0.5,mt:1,...(animationEffects?microInteractionStyles.errorShake:{})},children:[/*#__PURE__*/_jsx(Warning,{color:\"warning\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"warning.main\",children:wizard.state.currentField.validationErrors[0]})]})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}