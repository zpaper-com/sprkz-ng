{"ast":null,"code":"import { DEBUG_BUILD } from '../debug-build.js';\nimport { debug } from '../utils/debug-logger.js';\nimport { getFunctionName } from '../utils/stacktrace.js';\n\n// We keep the handlers globally\nconst handlers = {};\nconst instrumented = {};\n\n/** Add a handler function. */\nfunction addHandler(type, handler) {\n  handlers[type] = handlers[type] || [];\n  handlers[type].push(handler);\n}\n\n/**\n * Reset all instrumentation handlers.\n * This can be used by tests to ensure we have a clean slate of instrumentation handlers.\n */\nfunction resetInstrumentationHandlers() {\n  Object.keys(handlers).forEach(key => {\n    handlers[key] = undefined;\n  });\n}\n\n/** Maybe run an instrumentation function, unless it was already called. */\nfunction maybeInstrument(type, instrumentFn) {\n  if (!instrumented[type]) {\n    instrumented[type] = true;\n    try {\n      instrumentFn();\n    } catch (e) {\n      DEBUG_BUILD && debug.error(`Error while instrumenting ${type}`, e);\n    }\n  }\n}\n\n/** Trigger handlers for a given instrumentation type. */\nfunction triggerHandlers(type, data) {\n  const typeHandlers = type && handlers[type];\n  if (!typeHandlers) {\n    return;\n  }\n  for (const handler of typeHandlers) {\n    try {\n      handler(data);\n    } catch (e) {\n      DEBUG_BUILD && debug.error(`Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(handler)}\\nError:`, e);\n    }\n  }\n}\nexport { addHandler, maybeInstrument, resetInstrumentationHandlers, triggerHandlers };","map":{"version":3,"names":["handlers","instrumented","addHandler","type","handler","push","resetInstrumentationHandlers","Object","keys","forEach","key","undefined","maybeInstrument","instrumentFn","e","DEBUG_BUILD","debug","error","triggerHandlers","data","typeHandlers","getFunctionName"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry/core/src/instrument/handlers.ts"],"sourcesContent":["import { DEBUG_BUILD } from '../debug-build';\nimport { debug } from '../utils/debug-logger';\nimport { getFunctionName } from '../utils/stacktrace';\n\nexport type InstrumentHandlerType =\n  | 'console'\n  | 'dom'\n  | 'fetch'\n  | 'fetch-body-resolved'\n  | 'history'\n  | 'xhr'\n  | 'error'\n  | 'unhandledrejection';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type InstrumentHandlerCallback = (data: any) => void;\n\n// We keep the handlers globally\nconst handlers: { [key in InstrumentHandlerType]?: InstrumentHandlerCallback[] } = {};\nconst instrumented: { [key in InstrumentHandlerType]?: boolean } = {};\n\n/** Add a handler function. */\nexport function addHandler(type: InstrumentHandlerType, handler: InstrumentHandlerCallback): void {\n  handlers[type] = handlers[type] || [];\n  (handlers[type] as InstrumentHandlerCallback[]).push(handler);\n}\n\n/**\n * Reset all instrumentation handlers.\n * This can be used by tests to ensure we have a clean slate of instrumentation handlers.\n */\nexport function resetInstrumentationHandlers(): void {\n  Object.keys(handlers).forEach(key => {\n    handlers[key as InstrumentHandlerType] = undefined;\n  });\n}\n\n/** Maybe run an instrumentation function, unless it was already called. */\nexport function maybeInstrument(type: InstrumentHandlerType, instrumentFn: () => void): void {\n  if (!instrumented[type]) {\n    instrumented[type] = true;\n    try {\n      instrumentFn();\n    } catch (e) {\n      DEBUG_BUILD && debug.error(`Error while instrumenting ${type}`, e);\n    }\n  }\n}\n\n/** Trigger handlers for a given instrumentation type. */\nexport function triggerHandlers(type: InstrumentHandlerType, data: unknown): void {\n  const typeHandlers = type && handlers[type];\n  if (!typeHandlers) {\n    return;\n  }\n\n  for (const handler of typeHandlers) {\n    try {\n      handler(data);\n    } catch (e) {\n      DEBUG_BUILD &&\n        debug.error(\n          `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(handler)}\\nError:`,\n          e,\n        );\n    }\n  }\n}\n"],"mappings":";;;;AAgBA;AACA,MAAMA,QAAQ,GAAqE,EAAE;AACrF,MAAMC,YAAY,GAAiD,EAAE;;AAErE;AACO,SAASC,UAAUA,CAACC,IAAI,EAAyBC,OAAO,EAAmC;EAChGJ,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACG,IAAI,KAAK,EAAE;EACpCH,QAAQ,CAACG,IAAI,EAAkCE,IAAI,CAACD,OAAO,CAAC;AAC/D;;AAEA;AACA;AACA;AACA;AACO,SAASE,4BAA4BA,CAAA,EAAS;EACnDC,MAAM,CAACC,IAAI,CAACR,QAAQ,CAAC,CAACS,OAAO,CAACC,GAAA,IAAO;IACnCV,QAAQ,CAACU,GAAA,CAAI,GAA4BC,SAAS;EACtD,CAAG,CAAC;AACJ;;AAEA;AACO,SAASC,eAAeA,CAACT,IAAI,EAAyBU,YAAY,EAAoB;EAC3F,IAAI,CAACZ,YAAY,CAACE,IAAI,CAAC,EAAE;IACvBF,YAAY,CAACE,IAAI,IAAI,IAAI;IACzB,IAAI;MACFU,YAAY,EAAE;IACpB,CAAI,CAAE,OAAOC,CAAC,EAAE;MACVC,WAAA,IAAeC,KAAK,CAACC,KAAK,CAAC,6BAA6Bd,IAAI,EAAC,EAAAW,CAAA;IACA;EACA;AACA;;AAEA;AACA,SAAAI,gBAAAf,IAAA,EAAAgB,IAAA;EACA,MAAAC,YAAA,GAAAjB,IAAA,IAAAH,QAAA,CAAAG,IAAA;EACA,KAAAiB,YAAA;IACA;EACA;EAEA,WAAAhB,OAAA,IAAAgB,YAAA;IACA;MACAhB,OAAA,CAAAe,IAAA;IACA,SAAAL,CAAA;MACAC,WAAA,IACAC,KAAA,CAAAC,KAAA,CACA,0DAAAd,IAAA,WAAAkB,eAAA,CAAAjB,OAAA,aACAU,CACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}