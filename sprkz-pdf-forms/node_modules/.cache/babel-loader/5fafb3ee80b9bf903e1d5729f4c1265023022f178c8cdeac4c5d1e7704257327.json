{"ast":null,"code":"import { GLOBAL_OBJ, getClient, getCurrentScope, captureFeedback, getLocationHref, isBrowser, debug, addIntegration, getIsolationScope, getGlobalScope } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = GLOBAL_OBJ;\nconst DOCUMENT = WINDOW.document;\nconst NAVIGATOR = WINDOW.navigator;\nconst TRIGGER_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst CONFIRM_BUTTON_LABEL = 'Confirm';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nconst IS_REQUIRED_LABEL = '(required)';\nconst ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nconst REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\nconst SUCCESS_MESSAGE_TIMEOUT = 5000;\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nconst sendFeedback = function (params) {\n  let hint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    includeReplay: true\n  };\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = getClient();\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n  if (params.tags && Object.keys(params.tags).length) {\n    getCurrentScope().setTags(params.tags);\n  }\n  const eventId = captureFeedback({\n    source: FEEDBACK_API_SOURCE,\n    url: getLocationHref(),\n    ...params\n  }, hint);\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30000);\n    const cleanup = client.on('afterSendEvent', (event, response) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (response && typeof response.statusCode === 'number' && response.statusCode >= 200 && response.statusCode < 300) {\n        return resolve(eventId);\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 0) {\n        return reject('Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker.');\n      }\n      if (response && typeof response.statusCode === 'number' && response.statusCode === 403) {\n        return reject('Unable to send Feedback. This could be because this domain is not in your list of allowed domains.');\n      }\n      return reject('Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker');\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__;\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nfunction isScreenshotSupported() {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(defaultOptions, optionOverrides) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data, eventId) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: error => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight\n    }\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(_ref => {\n    let [key, val] = _ref;\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction FeedbackIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z'\n  });\n  svg.appendChild(g).appendChild(path);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nfunction Actor(_ref2) {\n  let {\n    triggerLabel,\n    triggerAriaLabel,\n    shadow,\n    styleNonce\n  } = _ref2;\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n  const style = createActorStyles(styleNonce);\n  return {\n    el,\n    appendToDom() {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom() {\n      el.remove();\n      style.remove();\n    },\n    show() {\n      el.ariaHidden = 'false';\n    },\n    hide() {\n      el.ariaHidden = 'true';\n    }\n  };\n}\nconst PURPLE = 'rgba(88, 74, 192, 1)';\nconst DEFAULT_LIGHT = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)'\n};\nconst DEFAULT_DARK = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)'\n};\nfunction getThemedCssVariables(theme) {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles(_ref3) {\n  let {\n    colorScheme,\n    themeDark,\n    themeLight,\n    styleNonce\n  } = _ref3;\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? {\n    ...DEFAULT_DARK,\n    ...themeDark\n  } : {\n    ...DEFAULT_LIGHT,\n    ...themeLight\n  })}\n}\n\n${colorScheme === 'system' ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({\n    ...DEFAULT_DARK,\n    ...themeDark\n  })}\n  }\n}` : ''}\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nconst buildFeedbackIntegration = _ref4 => {\n  let {\n    lazyLoadIntegration,\n    getModalIntegration,\n    getScreenshotIntegration\n  } = _ref4;\n  const feedbackIntegration = function () {\n    let {\n      // FeedbackGeneralConfiguration\n      id = 'sentry-feedback',\n      autoInject = true,\n      showBranding = true,\n      isEmailRequired = false,\n      isNameRequired = false,\n      showEmail = true,\n      showName = true,\n      enableScreenshot = true,\n      useSentryUser = {\n        email: 'email',\n        name: 'username'\n      },\n      tags,\n      styleNonce,\n      scriptNonce,\n      // FeedbackThemeConfiguration\n      colorScheme = 'system',\n      themeLight = {},\n      themeDark = {},\n      // FeedbackTextConfiguration\n      addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n      cancelButtonLabel = CANCEL_BUTTON_LABEL,\n      confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n      emailLabel = EMAIL_LABEL,\n      emailPlaceholder = EMAIL_PLACEHOLDER,\n      formTitle = FORM_TITLE,\n      isRequiredLabel = IS_REQUIRED_LABEL,\n      messageLabel = MESSAGE_LABEL,\n      messagePlaceholder = MESSAGE_PLACEHOLDER,\n      nameLabel = NAME_LABEL,\n      namePlaceholder = NAME_PLACEHOLDER,\n      removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n      submitButtonLabel = SUBMIT_BUTTON_LABEL,\n      successMessageText = SUCCESS_MESSAGE_TEXT,\n      triggerLabel = TRIGGER_LABEL,\n      triggerAriaLabel = '',\n      // FeedbackCallbacks\n      onFormOpen,\n      onFormClose,\n      onSubmitSuccess,\n      onSubmitError,\n      onFormSubmitted\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n      colorScheme,\n      themeDark,\n      themeLight,\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted\n    };\n    let _shadow = null;\n    let _subscriptions = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = options => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n        _shadow = host.attachShadow({\n          mode: 'open'\n        });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow;\n    };\n    const _loadAndRenderDialog = async options => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n      let modalIntegration;\n      let screenshotIntegration;\n      try {\n        const modalIntegrationFn = getModalIntegration ? getModalIntegration() : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn();\n        addIntegration(modalIntegration);\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.');\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n      try {\n        const screenshotIntegrationFn = screenshotRequired ? getScreenshotIntegration ? getScreenshotIntegration() : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce) : undefined;\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn();\n          addIntegration(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD && debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          }\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options)\n      });\n      return dialog;\n    };\n    const _attachTo = function (el) {\n      let optionOverrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const targetEl = typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n      if (!targetEl) {\n        DEBUG_BUILD && debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n      let dialog = null;\n      const handleClick = async () => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            }\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = () => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n    const _createActor = function () {\n      let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        }\n      });\n      return actor;\n    };\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!isBrowser() || !_options.autoInject) {\n          return;\n        }\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget() {\n        let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm() {\n        let optionOverrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove() {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      }\n    };\n  };\n  return feedbackIntegration;\n};\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nfunction getFeedback() {\n  const client = getClient();\n  return client?.getIntegrationByName('Feedback');\n}\nvar n,\n  l$1,\n  u$1,\n  i$1,\n  o$1,\n  r$1,\n  f$1,\n  c$1 = {},\n  s$1 = [],\n  a$1 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,\n  h$1 = Array.isArray;\nfunction v$1(n, l) {\n  for (var u in l) n[u] = l[u];\n  return n;\n}\nfunction p$1(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction y$1(l, u, t) {\n  var i,\n    o,\n    r,\n    f = {};\n  for (r in u) \"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for (r in l.defaultProps) void 0 === f[r] && (f[r] = l.defaultProps[r]);\n  return d$1(l, f, i, o, null);\n}\nfunction d$1(n, t, i, o, r) {\n  var f = {\n    type: n,\n    props: t,\n    key: i,\n    ref: o,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    constructor: void 0,\n    __v: null == r ? ++u$1 : r,\n    __i: -1,\n    __u: 0\n  };\n  return null == r && null != l$1.vnode && l$1.vnode(f), f;\n}\nfunction g$1(n) {\n  return n.children;\n}\nfunction b$1(n, l) {\n  this.props = n, this.context = l;\n}\nfunction m$1(n, l) {\n  if (null == l) return n.__ ? m$1(n.__, n.__i + 1) : null;\n  for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  return \"function\" == typeof n.type ? m$1(n) : null;\n}\nfunction w$1(n, u, t) {\n  var i,\n    o = n.__v,\n    r = o.__e,\n    f = n.__P;\n  if (f) return (i = v$1({}, o)).__v = o.__v + 1, l$1.vnode && l$1.vnode(i), M(f, i, o, n.__n, void 0 !== f.ownerSVGElement, 32 & o.__u ? [r] : null, u, null == r ? m$1(o) : r, !!(32 & o.__u), t), i.__.__k[i.__i] = i, i.__d = void 0, i.__e != r && k$1(i), i;\n}\nfunction k$1(n) {\n  var l, u;\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {\n      n.__e = n.__c.base = u.__e;\n      break;\n    }\n    return k$1(n);\n  }\n}\nfunction x$1(n) {\n  (!n.__d && (n.__d = true) && i$1.push(n) && !C$1.__r++ || o$1 !== l$1.debounceRendering) && ((o$1 = l$1.debounceRendering) || r$1)(C$1);\n}\nfunction C$1() {\n  var n,\n    u,\n    t,\n    o = [],\n    r = [];\n  for (i$1.sort(f$1); n = i$1.shift();) n.__d && (t = i$1.length, u = w$1(n, o, r) || u, 0 === t || i$1.length > t ? (j$1(o, u, r), r.length = o.length = 0, u = void 0, i$1.sort(f$1)) : u && l$1.__c && l$1.__c(u, s$1));\n  u && j$1(o, u, r), C$1.__r = 0;\n}\nfunction P$1(n, l, u, t, i, o, r, f, e, a, h) {\n  var v,\n    p,\n    y,\n    d,\n    _,\n    g = t && t.__k || s$1,\n    b = l.length;\n  for (u.__d = e, S(u, l, g), e = u.__d, v = 0; v < b; v++) null != (y = u.__k[v]) && \"boolean\" != typeof y && \"function\" != typeof y && (p = -1 === y.__i ? c$1 : g[y.__i] || c$1, y.__i = v, M(n, y, p, i, o, r, f, e, a, h), d = y.__e, y.ref && p.ref != y.ref && (p.ref && N(p.ref, null, y), h.push(y.ref, y.__c || d, y)), null == _ && null != d && (_ = d), 65536 & y.__u || p.__k === y.__k ? e = $(y, e, n) : \"function\" == typeof y.type && void 0 !== y.__d ? e = y.__d : d && (e = d.nextSibling), y.__d = void 0, y.__u &= -196609);\n  u.__d = e, u.__e = _;\n}\nfunction S(n, l, u) {\n  var t,\n    i,\n    o,\n    r,\n    f,\n    e = l.length,\n    c = u.length,\n    s = c,\n    a = 0;\n  for (n.__k = [], t = 0; t < e; t++) null != (i = n.__k[t] = null == (i = l[t]) || \"boolean\" == typeof i || \"function\" == typeof i ? null : \"string\" == typeof i || \"number\" == typeof i || \"bigint\" == typeof i || i.constructor == String ? d$1(null, i, null, null, i) : h$1(i) ? d$1(g$1, {\n    children: i\n  }, null, null, null) : void 0 === i.constructor && i.__b > 0 ? d$1(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v) : i) ? (i.__ = n, i.__b = n.__b + 1, f = I(i, u, r = t + a, s), i.__i = f, o = null, -1 !== f && (s--, (o = u[f]) && (o.__u |= 131072)), null == o || null === o.__v ? (-1 == f && a--, \"function\" != typeof i.type && (i.__u |= 65536)) : f !== r && (f === r + 1 ? a++ : f > r ? s > e - r ? a += f - r : a-- : a = f < r && f == r - 1 ? f - r : 0, f !== t + a && (i.__u |= 65536))) : (o = u[t]) && null == o.key && o.__e && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o, false), u[t] = null, s--);\n  if (s) for (t = 0; t < c; t++) null != (o = u[t]) && 0 == (131072 & o.__u) && (o.__e == n.__d && (n.__d = m$1(o)), O(o, o));\n}\nfunction $(n, l, u) {\n  var t, i;\n  if (\"function\" == typeof n.type) {\n    for (t = n.__k, i = 0; t && i < t.length; i++) t[i] && (t[i].__ = n, l = $(t[i], l, u));\n    return l;\n  }\n  n.__e != l && (u.insertBefore(n.__e, l || null), l = n.__e);\n  do {\n    l = l && l.nextSibling;\n  } while (null != l && 8 === l.nodeType);\n  return l;\n}\nfunction I(n, l, u, t) {\n  var i = n.key,\n    o = n.type,\n    r = u - 1,\n    f = u + 1,\n    e = l[u];\n  if (null === e || e && i == e.key && o === e.type) return u;\n  if (t > (null != e && 0 == (131072 & e.__u) ? 1 : 0)) for (; r >= 0 || f < l.length;) {\n    if (r >= 0) {\n      if ((e = l[r]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return r;\n      r--;\n    }\n    if (f < l.length) {\n      if ((e = l[f]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return f;\n      f++;\n    }\n  }\n  return -1;\n}\nfunction T$1(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || a$1.test(l) ? u : u + \"px\";\n}\nfunction A$1(n, l, u, t, i) {\n  var o;\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for (l in t) u && l in u || T$1(n.style, l, \"\");\n      if (u) for (l in u) t && u[l] === t[l] || T$1(n.style, l, u[l]);\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/i, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t ? u.u = t.u : (u.u = Date.now(), n.addEventListener(l, o ? L : D$1, o)) : n.removeEventListener(l, o ? L : D$1, o);else {\n    if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && \"role\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null == u || false === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction D$1(n) {\n  if (this.l) {\n    var u = this.l[n.type + false];\n    if (n.t) {\n      if (n.t <= u.u) return;\n    } else n.t = Date.now();\n    return u(l$1.event ? l$1.event(n) : n);\n  }\n}\nfunction L(n) {\n  if (this.l) return this.l[n.type + true](l$1.event ? l$1.event(n) : n);\n}\nfunction M(n, u, t, i, o, r, f, e, c, s) {\n  var a,\n    p,\n    y,\n    d,\n    _,\n    m,\n    w,\n    k,\n    x,\n    C,\n    S,\n    $,\n    H,\n    I,\n    T,\n    A = u.type;\n  if (void 0 !== u.constructor) return null;\n  128 & t.__u && (c = !!(32 & t.__u), r = [e = u.__e = t.__e]), (a = l$1.__b) && a(u);\n  n: if (\"function\" == typeof A) try {\n    if (k = u.props, x = (a = A.contextType) && i[a.__c], C = a ? x ? x.props.value : a.__ : i, t.__c ? w = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in A && A.prototype.render ? u.__c = p = new A(k, C) : (u.__c = p = new b$1(k, C), p.constructor = A, p.render = q$1), x && x.sub(p), p.props = k, p.state || (p.state = {}), p.context = C, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != A.getDerivedStateFromProps && (p.__s == p.state && (p.__s = v$1({}, p.__s)), v$1(p.__s, A.getDerivedStateFromProps(k, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == A.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);else {\n      if (null == A.getDerivedStateFromProps && k !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(k, C), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(k, p.__s, C) || u.__v === t.__v)) {\n        for (u.__v !== t.__v && (p.props = k, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function (n) {\n          n && (n.__ = u);\n        }), S = 0; S < p._sb.length; S++) p.__h.push(p._sb[S]);\n        p._sb = [], p.__h.length && f.push(p);\n        break n;\n      }\n      null != p.componentWillUpdate && p.componentWillUpdate(k, p.__s, C), null != p.componentDidUpdate && p.__h.push(function () {\n        p.componentDidUpdate(d, _, m);\n      });\n    }\n    if (p.context = C, p.props = k, p.__P = n, p.__e = !1, $ = l$1.__r, H = 0, \"prototype\" in A && A.prototype.render) {\n      for (p.state = p.__s, p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), I = 0; I < p._sb.length; I++) p.__h.push(p._sb[I]);\n      p._sb = [];\n    } else do {\n      p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n    } while (p.__d && ++H < 25);\n    p.state = p.__s, null != p.getChildContext && (i = v$1(v$1({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (m = p.getSnapshotBeforeUpdate(d, _)), P$1(n, h$1(T = null != a && a.type === g$1 && null == a.key ? a.props.children : a) ? T : [T], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__u &= -161, p.__h.length && f.push(p), w && (p.__E = p.__ = null);\n  } catch (n) {\n    u.__v = null, c || null != r ? (u.__e = e, u.__u |= c ? 160 : 32, r[r.indexOf(e)] = null) : (u.__e = t.__e, u.__k = t.__k), l$1.__e(n, u, t);\n  } else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = z$1(t.__e, u, t, i, o, r, f, c, s);\n  (a = l$1.diffed) && a(u);\n}\nfunction j$1(n, u, t) {\n  for (var i = 0; i < t.length; i++) N(t[i], t[++i], t[++i]);\n  l$1.__c && l$1.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l$1.__e(n, u.__v);\n    }\n  });\n}\nfunction z$1(l, u, t, i, o, r, f, e, s) {\n  var a,\n    v,\n    y,\n    d,\n    _,\n    g,\n    b,\n    w = t.props,\n    k = u.props,\n    x = u.type;\n  if (\"svg\" === x && (o = true), null != r) for (a = 0; a < r.length; a++) if ((_ = r[a]) && \"setAttribute\" in _ == !!x && (x ? _.localName === x : 3 === _.nodeType)) {\n    l = _, r[a] = null;\n    break;\n  }\n  if (null == l) {\n    if (null === x) return document.createTextNode(k);\n    l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", x) : document.createElement(x, k.is && k), r = null, e = false;\n  }\n  if (null === x) w === k || e && l.data === k || (l.data = k);else {\n    if (r = r && n.call(l.childNodes), w = t.props || c$1, !e && null != r) for (w = {}, a = 0; a < l.attributes.length; a++) w[(_ = l.attributes[a]).name] = _.value;\n    for (a in w) _ = w[a], \"children\" == a || (\"dangerouslySetInnerHTML\" == a ? y = _ : \"key\" === a || a in k || A$1(l, a, null, _, o));\n    for (a in k) _ = k[a], \"children\" == a ? d = _ : \"dangerouslySetInnerHTML\" == a ? v = _ : \"value\" == a ? g = _ : \"checked\" == a ? b = _ : \"key\" === a || e && \"function\" != typeof _ || w[a] === _ || A$1(l, a, _, w[a], o);\n    if (v) e || y && (v.__html === y.__html || v.__html === l.innerHTML) || (l.innerHTML = v.__html), u.__k = [];else if (y && (l.innerHTML = \"\"), P$1(l, h$1(d) ? d : [d], u, t, i, o && \"foreignObject\" !== x, r, f, r ? r[0] : t.__k && m$1(t, 0), e, s), null != r) for (a = r.length; a--;) null != r[a] && p$1(r[a]);\n    e || (a = \"value\", void 0 !== g && (g !== l[a] || \"progress\" === x && !g || \"option\" === x && g !== w[a]) && A$1(l, a, g, w[a], false), a = \"checked\", void 0 !== b && b !== l[a] && A$1(l, a, b, w[a], false));\n  }\n  return l;\n}\nfunction N(n, u, t) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l$1.__e(n, t);\n  }\n}\nfunction O(n, u, t) {\n  var i, o;\n  if (l$1.unmount && l$1.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || N(i, null, u)), null != (i = n.__c)) {\n    if (i.componentWillUnmount) try {\n      i.componentWillUnmount();\n    } catch (n) {\n      l$1.__e(n, u);\n    }\n    i.base = i.__P = null, n.__c = void 0;\n  }\n  if (i = n.__k) for (o = 0; o < i.length; o++) i[o] && O(i[o], u, t || \"function\" != typeof n.type);\n  t || null == n.__e || p$1(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction q$1(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction B$1(u, t, i) {\n  var o, r, f, e;\n  l$1.__ && l$1.__(u, t), r = (o = \"function\" == \"undefined\") ? null : t.__k, f = [], e = [], M(t, u = t.__k = y$1(g$1, null, [u]), r || c$1, c$1, void 0 !== t.ownerSVGElement, r ? null : t.firstChild ? n.call(t.childNodes) : null, f, r ? r.__e : t.firstChild, o, e), u.__d = void 0, j$1(f, u, e);\n}\nn = s$1.slice, l$1 = {\n  __e: function (n, l, u, t) {\n    for (var i, o, r; l = l.__;) if ((i = l.__c) && !i.__) try {\n      if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n    } catch (l) {\n      n = l;\n    }\n    throw n;\n  }\n}, u$1 = 0, b$1.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v$1({}, this.state), \"function\" == typeof n && (n = n(v$1({}, u), this.props)), n && v$1(u, n), null != n && this.__v && (l && this._sb.push(l), x$1(this));\n}, b$1.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = true, n && this.__h.push(n), x$1(this));\n}, b$1.prototype.render = g$1, i$1 = [], r$1 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f$1 = function (n, l) {\n  return n.__v.__b - l.__v.__b;\n}, C$1.__r = 0;\nvar t,\n  r,\n  u,\n  i,\n  o = 0,\n  f = [],\n  c = [],\n  e = l$1,\n  a = e.__b,\n  v = e.__r,\n  l = e.diffed,\n  m = e.__c,\n  s = e.unmount,\n  d = e.__;\nfunction h(n, t) {\n  e.__h && e.__h(r, n, o || t), o = 0;\n  var u = r.__H || (r.__H = {\n    __: [],\n    __h: []\n  });\n  return n >= u.__.length && u.__.push({\n    __V: c\n  }), u.__[n];\n}\nfunction p(n) {\n  return o = 1, y(D, n);\n}\nfunction y(n, u, i) {\n  var o = h(t++, 2);\n  if (o.t = n, !o.__c && (o.__ = [i ? i(u) : D(void 0, u), function (n) {\n    var t = o.__N ? o.__N[0] : o.__[0],\n      r = o.t(t, n);\n    t !== r && (o.__N = [r, o.__[1]], o.__c.setState({}));\n  }], o.__c = r, !r.u)) {\n    var f = function (n, t, r) {\n      if (!o.__c.__H) return true;\n      var u = o.__c.__H.__.filter(function (n) {\n        return !!n.__c;\n      });\n      if (u.every(function (n) {\n        return !n.__N;\n      })) return !c || c.call(this, n, t, r);\n      var i = false;\n      return u.forEach(function (n) {\n        if (n.__N) {\n          var t = n.__[0];\n          n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = true);\n        }\n      }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n    };\n    r.u = true;\n    var c = r.shouldComponentUpdate,\n      e = r.componentWillUpdate;\n    r.componentWillUpdate = function (n, t, r) {\n      if (this.__e) {\n        var u = c;\n        c = void 0, f(n, t, r), c = u;\n      }\n      e && e.call(this, n, t, r);\n    }, r.shouldComponentUpdate = f;\n  }\n  return o.__N || o.__;\n}\nfunction _(n, u) {\n  var i = h(t++, 3);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__H.__h.push(i));\n}\nfunction A(n, u) {\n  var i = h(t++, 4);\n  !e.__s && C(i.__H, u) && (i.__ = n, i.i = u, r.__h.push(i));\n}\nfunction F(n) {\n  return o = 5, q(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\nfunction T(n, t, r) {\n  o = 6, A(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == r ? r : r.concat(n));\n}\nfunction q(n, r) {\n  var u = h(t++, 7);\n  return C(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction x(n, t) {\n  return o = 8, q(function () {\n    return n;\n  }, t);\n}\nfunction P(n) {\n  var u = r.context[n.__c],\n    i = h(t++, 9);\n  return i.c = n, u ? (null == i.__ && (i.__ = true, u.sub(r)), u.props.value) : n.__;\n}\nfunction V(n, t) {\n  e.useDebugValue && e.useDebugValue(t ? t(n) : n);\n}\nfunction b(n) {\n  var u = h(t++, 10),\n    i = p();\n  return u.__ = n, r.componentDidCatch || (r.componentDidCatch = function (n, t) {\n    u.__ && u.__(n, t), i[1](n);\n  }), [i[0], function () {\n    i[1](void 0);\n  }];\n}\nfunction g() {\n  var n = h(t++, 11);\n  if (!n.__) {\n    for (var u = r.__v; null !== u && !u.__m && null !== u.__;) u = u.__;\n    var i = u.__m || (u.__m = [0, 0]);\n    n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n  }\n  return n.__;\n}\nfunction j() {\n  for (var n; n = f.shift();) if (n.__P && n.__H) try {\n    n.__H.__h.forEach(z), n.__H.__h.forEach(B), n.__H.__h = [];\n  } catch (t) {\n    n.__H.__h = [], e.__e(t, n.__v);\n  }\n}\ne.__b = function (n) {\n  r = null, a && a(n);\n}, e.__ = function (n, t) {\n  t.__k && t.__k.__m && (n.__m = t.__k.__m), d && d(n, t);\n}, e.__r = function (n) {\n  v && v(n), t = 0;\n  var i = (r = n.__c).__H;\n  i && (u === r ? (i.__h = [], r.__h = [], i.__.forEach(function (n) {\n    n.__N && (n.__ = n.__N), n.__V = c, n.__N = n.i = void 0;\n  })) : (i.__h.forEach(z), i.__h.forEach(B), i.__h = [], t = 0)), u = r;\n}, e.diffed = function (n) {\n  l && l(n);\n  var t = n.__c;\n  t && t.__H && (t.__H.__h.length && (1 !== f.push(t) && i === e.requestAnimationFrame || ((i = e.requestAnimationFrame) || w)(j)), t.__H.__.forEach(function (n) {\n    n.i && (n.__H = n.i), n.__V !== c && (n.__ = n.__V), n.i = void 0, n.__V = c;\n  })), u = r = null;\n}, e.__c = function (n, t) {\n  t.some(function (n) {\n    try {\n      n.__h.forEach(z), n.__h = n.__h.filter(function (n) {\n        return !n.__ || B(n);\n      });\n    } catch (r) {\n      t.some(function (n) {\n        n.__h && (n.__h = []);\n      }), t = [], e.__e(r, n.__v);\n    }\n  }), m && m(n, t);\n}, e.unmount = function (n) {\n  s && s(n);\n  var t,\n    r = n.__c;\n  r && r.__H && (r.__H.__.forEach(function (n) {\n    try {\n      z(n);\n    } catch (n) {\n      t = n;\n    }\n  }), r.__H = void 0, t && e.__e(t, r.__v));\n};\nvar k = \"function\" == typeof requestAnimationFrame;\nfunction w(n) {\n  var t,\n    r = function () {\n      clearTimeout(u), k && cancelAnimationFrame(t), setTimeout(n);\n    },\n    u = setTimeout(r, 100);\n  k && (t = requestAnimationFrame(r));\n}\nfunction z(n) {\n  var t = r,\n    u = n.__c;\n  \"function\" == typeof u && (n.__c = void 0, u()), r = t;\n}\nfunction B(n) {\n  var t = r;\n  n.__c = n.__(), r = t;\n}\nfunction C(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, r) {\n    return t !== n[r];\n  });\n}\nfunction D(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\nconst hooks = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  useCallback: x,\n  useContext: P,\n  useDebugValue: V,\n  useEffect: _,\n  useErrorBoundary: b,\n  useId: g,\n  useImperativeHandle: T,\n  useLayoutEffect: A,\n  useMemo: q,\n  useReducer: y,\n  useRef: F,\n  useState: p\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction SentryLogo() {\n  const createElementNS = tagName => DOCUMENT.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z'\n  });\n  svg.appendChild(path);\n  return svg;\n}\nfunction DialogHeader(_ref5) {\n  let {\n    options\n  } = _ref5;\n  const logoHtml = q(() => ({\n    __html: SentryLogo().outerHTML\n  }), []);\n  return y$1('h2', {\n    class: \"dialog__header\"\n  }, y$1('span', {\n    class: \"dialog__title\"\n  }, options.formTitle), options.showBranding ? y$1('a', {\n    class: \"brand-link\",\n    target: \"_blank\",\n    href: \"https://sentry.io/welcome/\",\n    title: \"Powered by Sentry\",\n    rel: \"noopener noreferrer\",\n    dangerouslySetInnerHTML: logoHtml\n  }) : null);\n}\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nfunction getMissingFields(feedback, props) {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n  return emptyFields;\n}\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\nfunction Form(_ref6) {\n  let {\n    options,\n    defaultEmail,\n    defaultName,\n    onFormClose,\n    onSubmit,\n    onSubmitSuccess,\n    onSubmitError,\n    showEmail,\n    showName,\n    screenshotInput\n  } = _ref6;\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel\n  } = options;\n  const [isSubmitting, setIsSubmitting] = p(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = p(null);\n  const [showScreenshotInput, setShowScreenshotInput] = p(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent = screenshotInput?.input;\n  const [screenshotError, setScreenshotError] = p(null);\n  const onScreenshotError = x(error => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n  const hasAllRequiredFields = x(data => {\n    const missingFields = getMissingFields(data, {\n      emailLabel,\n      isEmailRequired,\n      isNameRequired,\n      messageLabel,\n      nameLabel\n    });\n    if (missingFields.length > 0) {\n      setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n    } else {\n      setError(null);\n    }\n    return missingFields.length === 0;\n  }, [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel]);\n  const handleSubmit = x(async e => {\n    setIsSubmitting(true);\n    try {\n      e.preventDefault();\n      if (!(e.target instanceof HTMLFormElement)) {\n        return;\n      }\n      const formData = new FormData(e.target);\n      const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n      const data = {\n        name: retrieveStringValue(formData, 'name'),\n        email: retrieveStringValue(formData, 'email'),\n        message: retrieveStringValue(formData, 'message'),\n        attachments: attachment ? [attachment] : undefined\n      };\n      if (!hasAllRequiredFields(data)) {\n        return;\n      }\n      try {\n        const eventId = await onSubmit({\n          name: data.name,\n          email: data.email,\n          message: data.message,\n          source: FEEDBACK_WIDGET_SOURCE,\n          tags\n        }, {\n          attachments: data.attachments\n        });\n        onSubmitSuccess(data, eventId);\n      } catch (error) {\n        DEBUG_BUILD && debug.error(error);\n        setError(error);\n        onSubmitError(error);\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError]);\n  return y$1('form', {\n    class: \"form\",\n    onSubmit: handleSubmit\n  }, ScreenshotInputComponent && showScreenshotInput ? y$1(ScreenshotInputComponent, {\n    onError: onScreenshotError\n  }) : null, y$1('fieldset', {\n    class: \"form__right\",\n    'data-sentry-feedback': true,\n    disabled: isSubmitting\n  }, y$1('div', {\n    class: \"form__top\"\n  }, error ? y$1('div', {\n    class: \"form__error-container\"\n  }, error) : null, showName ? y$1('label', {\n    for: \"name\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: nameLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isNameRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultName,\n    id: \"name\",\n    name: \"name\",\n    placeholder: namePlaceholder,\n    required: isNameRequired,\n    type: \"text\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultName,\n    name: \"name\",\n    type: \"hidden\"\n  }), showEmail ? y$1('label', {\n    for: \"email\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: emailLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: isEmailRequired\n  }), y$1('input', {\n    class: \"form__input\",\n    defaultValue: defaultEmail,\n    id: \"email\",\n    name: \"email\",\n    placeholder: emailPlaceholder,\n    required: isEmailRequired,\n    type: \"email\"\n  })) : y$1('input', {\n    'aria-hidden': true,\n    value: defaultEmail,\n    name: \"email\",\n    type: \"hidden\"\n  }), y$1('label', {\n    for: \"message\",\n    class: \"form__label\"\n  }, y$1(LabelText, {\n    label: messageLabel,\n    isRequiredLabel: isRequiredLabel,\n    isRequired: true\n  }), y$1('textarea', {\n    autoFocus: true,\n    class: \"form__input form__input--textarea\",\n    id: \"message\",\n    name: \"message\",\n    placeholder: messagePlaceholder,\n    required: true,\n    rows: 5\n  })), ScreenshotInputComponent ? y$1('label', {\n    for: \"screenshot\",\n    class: \"form__label\"\n  }, y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: () => {\n      setScreenshotError(null);\n      setShowScreenshotInput(prev => !prev);\n    }\n  }, showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel), screenshotError ? y$1('div', {\n    class: \"form__error-container\"\n  }, screenshotError.message) : null) : null), y$1('div', {\n    class: \"btn-group\"\n  }, y$1('button', {\n    class: \"btn btn--primary\",\n    disabled: isSubmitting,\n    type: \"submit\"\n  }, submitButtonLabel), y$1('button', {\n    class: \"btn btn--default\",\n    disabled: isSubmitting,\n    type: \"button\",\n    onClick: onFormClose\n  }, cancelButtonLabel))));\n}\nfunction LabelText(_ref7) {\n  let {\n    label,\n    isRequired,\n    isRequiredLabel\n  } = _ref7;\n  return y$1('span', {\n    class: \"form__label__text\"\n  }, label, isRequired && y$1('span', {\n    class: \"form__label__text--required\"\n  }, isRequiredLabel));\n}\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)'\n  });\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z'\n  });\n  svg.appendChild(g).append(path, path2);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return svg;\n}\nfunction Dialog(_ref8) {\n  let {\n    open,\n    onFormSubmitted,\n    ...props\n  } = _ref8;\n  const options = props.options;\n  const successIconHtml = q(() => ({\n    __html: SuccessIcon().outerHTML\n  }), []);\n  const [timeoutId, setTimeoutId] = p(null);\n  const handleOnSuccessClick = x(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n  const onSubmitSuccess = x((data, eventId) => {\n    props.onSubmitSuccess(data, eventId);\n    setTimeoutId(setTimeout(() => {\n      onFormSubmitted();\n      setTimeoutId(null);\n    }, SUCCESS_MESSAGE_TIMEOUT));\n  }, [onFormSubmitted]);\n  return y$1(g$1, null, timeoutId ? y$1('div', {\n    class: \"success__position\",\n    onClick: handleOnSuccessClick\n  }, y$1('div', {\n    class: \"success__content\"\n  }, options.successMessageText, y$1('span', {\n    class: \"success__icon\",\n    dangerouslySetInnerHTML: successIconHtml\n  }))) : y$1('dialog', {\n    class: \"dialog\",\n    onClick: options.onFormClose,\n    open: open\n  }, y$1('div', {\n    class: \"dialog__position\"\n  }, y$1('div', {\n    class: \"dialog__content\",\n    onClick: e => {\n      // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n      e.stopPropagation();\n    }\n  }, y$1(DialogHeader, {\n    options: options\n  }), y$1(Form, {\n    ...props,\n    onSubmitSuccess: onSubmitSuccess\n  })))));\n}\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction getUser() {\n  const currentUser = getCurrentScope().getUser();\n  const isolationUser = getIsolationScope().getUser();\n  const globalUser = getGlobalScope().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\nconst feedbackModalIntegration = () => {\n  return {\n    name: 'FeedbackModal',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createDialog: _ref9 => {\n      let {\n        options,\n        screenshotIntegration,\n        sendFeedback,\n        shadow\n      } = _ref9;\n      const shadowRoot = shadow;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n      let originalOverflow = '';\n      const dialog = {\n        get el() {\n          return el;\n        },\n        appendToDom() {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom() {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          getClient()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        }\n      };\n      const screenshotInput = screenshotIntegration?.createInput({\n        h: y$1,\n        hooks,\n        dialog,\n        options\n      });\n      const renderContent = open => {\n        B$1(y$1(Dialog, {\n          options: options,\n          screenshotInput: screenshotInput,\n          showName: options.showName || options.isNameRequired,\n          showEmail: options.showEmail || options.isEmailRequired,\n          defaultName: userKey && user?.[userKey.name] || '',\n          defaultEmail: userKey && user?.[userKey.email] || '',\n          onFormClose: () => {\n            renderContent(false);\n            options.onFormClose?.();\n          },\n          onSubmit: sendFeedback,\n          onSubmitSuccess: (data, eventId) => {\n            renderContent(false);\n            options.onSubmitSuccess?.(data, eventId);\n          },\n          onSubmitError: error => {\n            options.onSubmitError?.(error);\n          },\n          onFormSubmitted: () => {\n            options.onFormSubmitted?.();\n          },\n          open: open\n        }), el);\n      };\n      return dialog;\n    }\n  };\n};\nfunction IconCloseFactory(_ref0) {\n  let {\n    h // eslint-disable-line @typescript-eslint/no-unused-vars\n  } = _ref0;\n  return function IconClose() {\n    return h('svg', {\n      'data-test-id': \"icon-close\",\n      viewBox: \"0 0 16 16\",\n      fill: \"#2B2233\",\n      height: \"25px\",\n      width: \"25px\"\n    }, h('circle', {\n      r: \"7\",\n      cx: \"8\",\n      cy: \"8\",\n      fill: \"white\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\"\n    }), h('path', {\n      strokeWidth: \"1.5\",\n      d: \"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\"\n    }));\n  };\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createScreenshotInputStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n  return style;\n}\nfunction ToolbarFactory(_ref1) {\n  let {\n    h // eslint-disable-line @typescript-eslint/no-unused-vars\n  } = _ref1;\n  return function Toolbar(_ref10) {\n    let {\n      action,\n      setAction\n    } = _ref10;\n    return h('div', {\n      class: \"editor__tool-container\"\n    }, h('div', {\n      class: \"editor__tool-bar\"\n    }, h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'highlight' ? '' : 'highlight');\n      }\n    }, \"Highlight\"), h('button', {\n      type: \"button\",\n      class: `editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`,\n      onClick: () => {\n        setAction(action === 'hide' ? '' : 'hide');\n      }\n    }, \"Hide\")));\n  };\n}\nfunction useTakeScreenshotFactory(_ref11) {\n  let {\n    hooks\n  } = _ref11;\n  function useDpi() {\n    const [dpi, setDpi] = hooks.useState(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = () => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n    return dpi;\n  }\n  return function useTakeScreenshot(_ref12) {\n    let {\n      onBeforeScreenshot,\n      onScreenshot,\n      onAfterScreenshot,\n      onError\n    } = _ref12;\n    const dpi = useDpi();\n    hooks.useEffect(() => {\n      const takeScreenshot = async () => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude'\n        });\n        const video = DOCUMENT.createElement('video');\n        await new Promise((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\nfunction drawRect(command, ctx, color) {\n  switch (command.type) {\n    case 'highlight':\n      {\n        // creates a shadow around\n        ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n        ctx.shadowBlur = 50;\n\n        // draws a rectangle first with a shadow\n        ctx.fillStyle = color;\n        ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n        // cut out the inside of the rectangle\n        ctx.clearRect(command.x, command.y, command.w, command.h);\n        break;\n      }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n      break;\n  }\n}\nfunction with2dContext(canvas, options, callback) {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\nfunction paintImage(maybeDest, source) {\n  with2dContext(maybeDest, {\n    alpha: true\n  }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas, strokeColor, drawCommands) {\n  with2dContext(maybeCanvas, {\n    alpha: true\n  }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\nfunction ScreenshotEditorFactory(_ref13) {\n  let {\n    h,\n    hooks,\n    outputBuffer,\n    dialog,\n    options\n  } = _ref13;\n  const useTakeScreenshot = useTakeScreenshotFactory({\n    hooks\n  });\n  const Toolbar = ToolbarFactory({\n    h\n  });\n  const IconClose = IconCloseFactory({\n    h\n  });\n  const editorStyleInnerText = {\n    __html: createScreenshotInputStyles(options.styleNonce).innerText\n  };\n  const dialogStyle = dialog.el.style;\n  const ScreenshotEditor = _ref14 => {\n    let {\n      screenshot\n    } = _ref14;\n    // Data for rendering:\n    const [action, setAction] = hooks.useState('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef(null);\n    const backgroundRef = hooks.useRef(null);\n    const foregroundRef = hooks.useRef(null);\n    const mouseRef = hooks.useRef(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState(1);\n    const strokeColor = hooks.useMemo(() => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return computedStyle.getPropertyValue('--button-primary-background') || computedStyle.getPropertyValue('--accent-background');\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = () => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n        with2dContext(screenshot.canvas, {\n          alpha: false\n        }, canvas => {\n          const scale = Math.min(measurementDiv.clientWidth / canvas.width, measurementDiv.clientHeight / canvas.height);\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback((maybeCanvas, scale) => {\n      with2dContext(maybeCanvas, {\n        alpha: true\n      }, (canvas, ctx) => {\n        // Must call `scale()` before setting `width` & `height`\n        ctx.scale(scale, scale);\n        canvas.width = screenshot.canvas.width;\n        canvas.height = screenshot.canvas.height;\n      });\n    }, [screenshot]);\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, {\n        alpha: true\n      }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), {\n        alpha: true\n      }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n    const handleMouseDown = e => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor\n      };\n      const getDrawCommand = (startingPoint, e) => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y)\n        };\n      };\n      const handleMouseMove = e => {\n        with2dContext(foregroundRef.current, {\n          alpha: true\n        }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n      const handleMouseUp = e => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n    const deleteRect = hooks.useCallback(index => {\n      return e => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`\n    };\n    const handleStopPropagation = e => {\n      e.stopPropagation();\n    };\n    return h('div', {\n      class: \"editor\"\n    }, h('style', {\n      nonce: options.styleNonce,\n      dangerouslySetInnerHTML: editorStyleInnerText\n    }), h('div', {\n      class: \"editor__image-container\"\n    }, h('div', {\n      class: \"editor__canvas-container\",\n      ref: measurementRef\n    }, h('canvas', {\n      ref: backgroundRef,\n      id: \"background\",\n      style: dimensions\n    }), h('canvas', {\n      ref: foregroundRef,\n      id: \"foreground\",\n      style: dimensions\n    }), h('div', {\n      ref: mouseRef,\n      onMouseDown: handleMouseDown,\n      style: dimensions\n    }, drawCommands.map((rect, index) => h('div', {\n      key: index,\n      class: \"editor__rect\",\n      style: {\n        top: `${rect.y * scaleFactor}px`,\n        left: `${rect.x * scaleFactor}px`,\n        width: `${rect.w * scaleFactor}px`,\n        height: `${rect.h * scaleFactor}px`\n      }\n    }, h('button', {\n      'aria-label': \"Remove\",\n      onClick: deleteRect(index),\n      onMouseDown: handleStopPropagation,\n      onMouseUp: handleStopPropagation,\n      type: \"button\"\n    }, h(IconClose, null))))))), h(Toolbar, {\n      action: action,\n      setAction: setAction\n    }));\n  };\n  return function Wrapper(_ref15) {\n    let {\n      onError\n    } = _ref15;\n    const [screenshot, setScreenshot] = hooks.useState();\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo, dpi) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), {\n          alpha: false\n        }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n          setScreenshot({\n            canvas,\n            dpi\n          });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, [])\n    });\n    if (screenshot) {\n      return h(ScreenshotEditor, {\n        screenshot: screenshot\n      });\n    }\n    return h('div', null);\n  };\n}\nconst feedbackScreenshotIntegration = () => {\n  return {\n    name: 'FeedbackScreenshot',\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    createInput: _ref16 => {\n      let {\n        h,\n        hooks,\n        dialog,\n        options\n      } = _ref16;\n      const outputBuffer = DOCUMENT.createElement('canvas');\n      return {\n        input: ScreenshotEditorFactory({\n          h: h,\n          hooks: hooks,\n          outputBuffer,\n          dialog,\n          options\n        }),\n        // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png'\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        }\n      };\n    }\n  };\n};\nexport { buildFeedbackIntegration, feedbackModalIntegration, feedbackScreenshotIntegration, getFeedback, sendFeedback };\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}