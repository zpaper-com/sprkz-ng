{"ast":null,"code":"import { defineIntegration } from '../integration.js';\nimport { addMetadataToStackFrames, stripMetadataFromStackFrames } from '../metadata.js';\nimport { forEachEnvelopeItem } from '../utils/envelope.js';\n\n/**\n * Adds module metadata to stack frames.\n *\n * Metadata can be injected by the Sentry bundler plugins using the `moduleMetadata` config option.\n *\n * When this integration is added, the metadata passed to the bundler plugin is added to the stack frames of all events\n * under the `module_metadata` property. This can be used to help in tagging or routing of events from different teams\n * our sources\n */\nconst moduleMetadataIntegration = defineIntegration(() => {\n  return {\n    name: 'ModuleMetadata',\n    setup(client) {\n      // We need to strip metadata from stack frames before sending them to Sentry since these are client side only.\n      client.on('beforeEnvelope', envelope => {\n        forEachEnvelopeItem(envelope, (item, type) => {\n          if (type === 'event') {\n            const event = Array.isArray(item) ? item[1] : undefined;\n            if (event) {\n              stripMetadataFromStackFrames(event);\n              item[1] = event;\n            }\n          }\n        });\n      });\n      client.on('applyFrameMetadata', event => {\n        // Only apply stack frame metadata to error events\n        if (event.type) {\n          return;\n        }\n        const stackParser = client.getOptions().stackParser;\n        addMetadataToStackFrames(stackParser, event);\n      });\n    }\n  };\n});\nexport { moduleMetadataIntegration };","map":{"version":3,"names":["moduleMetadataIntegration","defineIntegration","name","setup","client","on","envelope","forEachEnvelopeItem","item","type","event","Array","isArray","undefined","stripMetadataFromStackFrames","stackParser","getOptions","addMetadataToStackFrames"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry/core/src/integrations/metadata.ts"],"sourcesContent":["import { defineIntegration } from '../integration';\nimport { addMetadataToStackFrames, stripMetadataFromStackFrames } from '../metadata';\nimport type { EventItem } from '../types-hoist/envelope';\nimport { forEachEnvelopeItem } from '../utils/envelope';\n\n/**\n * Adds module metadata to stack frames.\n *\n * Metadata can be injected by the Sentry bundler plugins using the `moduleMetadata` config option.\n *\n * When this integration is added, the metadata passed to the bundler plugin is added to the stack frames of all events\n * under the `module_metadata` property. This can be used to help in tagging or routing of events from different teams\n * our sources\n */\nexport const moduleMetadataIntegration = defineIntegration(() => {\n  return {\n    name: 'ModuleMetadata',\n    setup(client) {\n      // We need to strip metadata from stack frames before sending them to Sentry since these are client side only.\n      client.on('beforeEnvelope', envelope => {\n        forEachEnvelopeItem(envelope, (item, type) => {\n          if (type === 'event') {\n            const event = Array.isArray(item) ? (item as EventItem)[1] : undefined;\n\n            if (event) {\n              stripMetadataFromStackFrames(event);\n              item[1] = event;\n            }\n          }\n        });\n      });\n\n      client.on('applyFrameMetadata', event => {\n        // Only apply stack frame metadata to error events\n        if (event.type) {\n          return;\n        }\n\n        const stackParser = client.getOptions().stackParser;\n        addMetadataToStackFrames(stackParser, event);\n      });\n    },\n  };\n});\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACaA,yBAAA,GAA4BC,iBAAiB,CAAC,MAAM;EAC/D,OAAO;IACLC,IAAI,EAAE,gBAAgB;IACtBC,KAAKA,CAACC,MAAM,EAAE;MAClB;MACMA,MAAM,CAACC,EAAE,CAAC,gBAAgB,EAAEC,QAAA,IAAY;QACtCC,mBAAmB,CAACD,QAAQ,EAAE,CAACE,IAAI,EAAEC,IAAI,KAAK;UAC5C,IAAIA,IAAA,KAAS,OAAO,EAAE;YACpB,MAAMC,KAAA,GAAQC,KAAK,CAACC,OAAO,CAACJ,IAAI,IAAKA,IAAA,CAAmB,CAAC,IAAIK,SAAS;YAEtE,IAAIH,KAAK,EAAE;cACTI,4BAA4B,CAACJ,KAAK,CAAC;cACnCF,IAAI,CAAC,CAAC,IAAIE,KAAK;YAC7B;UACA;QACA,CAAS,CAAC;MACV,CAAO,CAAC;MAEFN,MAAM,CAACC,EAAE,CAAC,oBAAoB,EAAEK,KAAA,IAAS;QAC/C;QACQ,IAAIA,KAAK,CAACD,IAAI,EAAE;UACd;QACV;QAEQ,MAAMM,WAAA,GAAcX,MAAM,CAACY,UAAU,EAAE,CAACD,WAAW;QACnDE,wBAAwB,CAACF,WAAW,EAAEL,KAAK,CAAC;MACpD,CAAO,CAAC;IACR;EACA,CAAG;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}