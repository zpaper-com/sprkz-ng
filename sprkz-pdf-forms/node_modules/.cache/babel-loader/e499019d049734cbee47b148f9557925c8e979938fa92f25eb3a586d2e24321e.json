{"ast":null,"code":"var _jsxFileName = \"/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/src/contexts/FeatureFlagsContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\nimport { unleashService, DEFAULT_FEATURE_FLAGS, FEATURE_CATEGORIES } from '../services/unleashService';\n\n// Enhanced context interface with full feature flag support\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Default context value\nconst defaultContext = {\n  isFeatureEnabled: () => false,\n  getFeatureVariant: () => null,\n  getAllFlags: () => DEFAULT_FEATURE_FLAGS,\n  getFlagsByCategory: () => ({}),\n  updateContext: () => {},\n  isReady: false,\n  isInitialized: false,\n  status: {\n    initialized: false,\n    clientReady: false,\n    flagCount: 0\n  },\n  refresh: () => {}\n};\nexport const FeatureFlagsContext = /*#__PURE__*/createContext(defaultContext);\nexport const FeatureFlagsProvider = ({\n  children,\n  config = {},\n  fallbackFlags = {},\n  enableLogging = process.env.NODE_ENV === 'development'\n}) => {\n  _s();\n  const [isReady, setIsReady] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [flags, setFlags] = useState({\n    ...DEFAULT_FEATURE_FLAGS,\n    ...fallbackFlags\n  });\n  const [status, setStatus] = useState({\n    initialized: false,\n    clientReady: false,\n    flagCount: 0\n  });\n  const [currentContext, setCurrentContext] = useState(config.context || {});\n  const initializationRef = useRef(false);\n\n  // Initialize Unleash service\n  useEffect(() => {\n    if (initializationRef.current) return;\n    initializationRef.current = true;\n    const initializeUnleash = async () => {\n      try {\n        if (enableLogging) {\n          console.log('Initializing Unleash service with config:', config);\n        }\n\n        // Initialize with configuration\n        await unleashService.initialize({\n          userId: config.userId,\n          environment: config.environment,\n          ...config.context\n        });\n\n        // Update initial state\n        setIsInitialized(true);\n        setIsReady(true);\n        setFlags(unleashService.getAllFlags(currentContext));\n        setStatus(unleashService.getStatus());\n        if (enableLogging) {\n          console.log('Unleash service initialized successfully');\n          console.log('Initial flags:', unleashService.getAllFlags(currentContext));\n        }\n      } catch (error) {\n        console.error('Failed to initialize Unleash service:', error);\n        // Continue with fallback flags\n        setIsInitialized(false);\n        setIsReady(true); // Still ready, just using defaults\n        setFlags({\n          ...DEFAULT_FEATURE_FLAGS,\n          ...fallbackFlags\n        });\n      }\n    };\n    initializeUnleash();\n  }, []); // Run once on mount\n\n  // Subscribe to flag updates\n  useEffect(() => {\n    const unsubscribe = unleashService.subscribe(() => {\n      if (enableLogging) {\n        console.log('Feature flags updated');\n      }\n      setFlags(unleashService.getAllFlags(currentContext));\n      setStatus(unleashService.getStatus());\n    });\n    return unsubscribe;\n  }, [currentContext, enableLogging]);\n\n  // Memoized flag checking function\n  const isFeatureEnabled = useCallback((flagName, context) => {\n    const mergedContext = {\n      ...currentContext,\n      ...context\n    };\n    if (!isInitialized) {\n      var _fallbackFlags$flagNa;\n      const fallbackValue = (_fallbackFlags$flagNa = fallbackFlags[flagName]) !== null && _fallbackFlags$flagNa !== void 0 ? _fallbackFlags$flagNa : DEFAULT_FEATURE_FLAGS[flagName];\n      if (enableLogging) {\n        console.log(`Feature flag ${flagName} checked (fallback): ${fallbackValue}`);\n      }\n      return fallbackValue;\n    }\n    const isEnabled = unleashService.isEnabled(flagName, mergedContext);\n    if (enableLogging) {\n      console.log(`Feature flag ${flagName} checked: ${isEnabled}`);\n    }\n    return isEnabled;\n  }, [isInitialized, currentContext, fallbackFlags, enableLogging]);\n\n  // Memoized variant getting function\n  const getFeatureVariant = useCallback((flagName, context) => {\n    const mergedContext = {\n      ...currentContext,\n      ...context\n    };\n    if (!isInitialized) {\n      if (enableLogging) {\n        console.log(`Feature variant ${flagName} requested (fallback): null`);\n      }\n      return null;\n    }\n    const variant = unleashService.getVariant(flagName, mergedContext);\n    if (enableLogging) {\n      console.log(`Feature variant ${flagName} requested:`, variant);\n    }\n    return variant;\n  }, [isInitialized, currentContext, enableLogging]);\n\n  // Get all flags\n  const getAllFlags = useCallback(context => {\n    const mergedContext = {\n      ...currentContext,\n      ...context\n    };\n    if (!isInitialized) {\n      return {\n        ...DEFAULT_FEATURE_FLAGS,\n        ...fallbackFlags\n      };\n    }\n    return unleashService.getAllFlags(mergedContext);\n  }, [isInitialized, currentContext, fallbackFlags]);\n\n  // Get flags by category\n  const getFlagsByCategory = useCallback((category, context) => {\n    const mergedContext = {\n      ...currentContext,\n      ...context\n    };\n    if (!isInitialized) {\n      const categoryFlags = FEATURE_CATEGORIES[category];\n      const result = {};\n      categoryFlags.forEach(flagName => {\n        var _fallbackFlags$key;\n        const key = flagName;\n        result[key] = (_fallbackFlags$key = fallbackFlags[key]) !== null && _fallbackFlags$key !== void 0 ? _fallbackFlags$key : DEFAULT_FEATURE_FLAGS[key];\n      });\n      return result;\n    }\n    return unleashService.getFlagsByCategory(category, mergedContext);\n  }, [isInitialized, currentContext, fallbackFlags]);\n\n  // Update context\n  const updateContext = useCallback(newContext => {\n    setCurrentContext(prev => ({\n      ...prev,\n      ...newContext\n    }));\n    if (isInitialized) {\n      unleashService.updateContext(newContext);\n    }\n    if (enableLogging) {\n      console.log('Feature flags context updated:', newContext);\n    }\n  }, [isInitialized, enableLogging]);\n\n  // Refresh flags manually\n  const refresh = useCallback(() => {\n    if (isInitialized) {\n      setFlags(unleashService.getAllFlags(currentContext));\n      setStatus(unleashService.getStatus());\n    }\n    if (enableLogging) {\n      console.log('Feature flags refreshed manually');\n    }\n  }, [isInitialized, currentContext, enableLogging]);\n\n  // Context value\n  const contextValue = {\n    isFeatureEnabled,\n    getFeatureVariant,\n    getAllFlags,\n    getFlagsByCategory,\n    updateContext,\n    isReady,\n    isInitialized,\n    status,\n    refresh\n  };\n\n  // Log provider status changes\n  useEffect(() => {\n    if (enableLogging) {\n      console.log('FeatureFlagsProvider status:', {\n        isReady,\n        isInitialized,\n        flagCount: Object.keys(flags).length,\n        status\n      });\n    }\n  }, [isReady, isInitialized, flags, status, enableLogging]);\n  return /*#__PURE__*/_jsxDEV(FeatureFlagsContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n\n// Enhanced hook with better error handling\n_s(FeatureFlagsProvider, \"hyrfmQbLgZKvpciH6zWuqylx1lk=\");\n_c = FeatureFlagsProvider;\nexport const useFeatureFlags = () => {\n  _s2();\n  const context = useContext(FeatureFlagsContext);\n  if (context === undefined) {\n    throw new Error('useFeatureFlags must be used within a FeatureFlagsProvider');\n  }\n  return context;\n};\n\n// Convenience hooks for common patterns\n_s2(useFeatureFlags, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const useFeatureFlag = (flagName, context) => {\n  _s3();\n  const {\n    isFeatureEnabled,\n    getFeatureVariant\n  } = useFeatureFlags();\n  return {\n    isEnabled: isFeatureEnabled(flagName, context),\n    variant: getFeatureVariant(flagName, context)\n  };\n};\n_s3(useFeatureFlag, \"UUV2oEOrPW/bO+f0dS9586yJ088=\", false, function () {\n  return [useFeatureFlags];\n});\nexport const useFeatureFlagWithFallback = (flagName, fallback = false, context) => {\n  _s4();\n  const {\n    isFeatureEnabled,\n    isReady\n  } = useFeatureFlags();\n  if (!isReady) {\n    return fallback;\n  }\n  return isFeatureEnabled(flagName, context);\n};\n\n// Clean up on unmount\n_s4(useFeatureFlagWithFallback, \"8LvO0M+VUmt5wHgT0RcOBjoKd/g=\", false, function () {\n  return [useFeatureFlags];\n});\nexport const FeatureFlagsCleanup = () => {\n  _s5();\n  useEffect(() => {\n    return () => {\n      unleashService.destroy();\n    };\n  }, []);\n  return null;\n};\n_s5(FeatureFlagsCleanup, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = FeatureFlagsCleanup;\nvar _c, _c2;\n$RefreshReg$(_c, \"FeatureFlagsProvider\");\n$RefreshReg$(_c2, \"FeatureFlagsCleanup\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","useRef","unleashService","DEFAULT_FEATURE_FLAGS","FEATURE_CATEGORIES","jsxDEV","_jsxDEV","defaultContext","isFeatureEnabled","getFeatureVariant","getAllFlags","getFlagsByCategory","updateContext","isReady","isInitialized","status","initialized","clientReady","flagCount","refresh","FeatureFlagsContext","FeatureFlagsProvider","children","config","fallbackFlags","enableLogging","process","env","NODE_ENV","_s","setIsReady","setIsInitialized","flags","setFlags","setStatus","currentContext","setCurrentContext","context","initializationRef","current","initializeUnleash","console","log","initialize","userId","environment","getStatus","error","unsubscribe","subscribe","flagName","mergedContext","_fallbackFlags$flagNa","fallbackValue","isEnabled","variant","getVariant","category","categoryFlags","result","forEach","_fallbackFlags$key","key","newContext","prev","contextValue","Object","keys","length","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFeatureFlags","_s2","undefined","Error","useFeatureFlag","_s3","useFeatureFlagWithFallback","fallback","_s4","FeatureFlagsCleanup","_s5","destroy","_c2","$RefreshReg$"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/src/contexts/FeatureFlagsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\nimport { unleashService, FeatureFlags, DEFAULT_FEATURE_FLAGS, FEATURE_CATEGORIES } from '../services/unleashService';\n\n// Enhanced context interface with full feature flag support\ninterface FeatureFlagsContextType {\n  // Basic flag checking\n  isFeatureEnabled: (flagName: keyof FeatureFlags, context?: Record<string, string>) => boolean;\n  getFeatureVariant: (flagName: keyof FeatureFlags, context?: Record<string, string>) => any;\n  \n  // Bulk operations\n  getAllFlags: (context?: Record<string, string>) => FeatureFlags;\n  getFlagsByCategory: (category: keyof typeof FEATURE_CATEGORIES, context?: Record<string, string>) => Partial<FeatureFlags>;\n  \n  // Context management\n  updateContext: (context: Record<string, string>) => void;\n  \n  // Status and debugging\n  isReady: boolean;\n  isInitialized: boolean;\n  status: { initialized: boolean; clientReady: boolean; flagCount: number };\n  \n  // Refresh functionality\n  refresh: () => void;\n}\n\n// Default context value\nconst defaultContext: FeatureFlagsContextType = {\n  isFeatureEnabled: () => false,\n  getFeatureVariant: () => null,\n  getAllFlags: () => DEFAULT_FEATURE_FLAGS,\n  getFlagsByCategory: () => ({}),\n  updateContext: () => {},\n  isReady: false,\n  isInitialized: false,\n  status: { initialized: false, clientReady: false, flagCount: 0 },\n  refresh: () => {}\n};\n\nexport const FeatureFlagsContext = createContext<FeatureFlagsContextType>(defaultContext);\n\ninterface FeatureFlagsProviderProps {\n  children: React.ReactNode;\n  config?: {\n    url?: string;\n    clientKey?: string;\n    refreshInterval?: number;\n    context?: Record<string, string>;\n    userId?: string;\n    environment?: string;\n  };\n  fallbackFlags?: Partial<FeatureFlags>;\n  enableLogging?: boolean;\n}\n\nexport const FeatureFlagsProvider: React.FC<FeatureFlagsProviderProps> = ({ \n  children, \n  config = {},\n  fallbackFlags = {},\n  enableLogging = process.env.NODE_ENV === 'development'\n}) => {\n  const [isReady, setIsReady] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [flags, setFlags] = useState<FeatureFlags>({ ...DEFAULT_FEATURE_FLAGS, ...fallbackFlags });\n  const [status, setStatus] = useState({ initialized: false, clientReady: false, flagCount: 0 });\n  const [currentContext, setCurrentContext] = useState<Record<string, string>>(config.context || {});\n  const initializationRef = useRef(false);\n\n  // Initialize Unleash service\n  useEffect(() => {\n    if (initializationRef.current) return;\n    initializationRef.current = true;\n\n    const initializeUnleash = async () => {\n      try {\n        if (enableLogging) {\n          console.log('Initializing Unleash service with config:', config);\n        }\n\n        // Initialize with configuration\n        await unleashService.initialize({\n          userId: config.userId,\n          environment: config.environment,\n          ...config.context\n        });\n\n        // Update initial state\n        setIsInitialized(true);\n        setIsReady(true);\n        setFlags(unleashService.getAllFlags(currentContext));\n        setStatus(unleashService.getStatus());\n\n        if (enableLogging) {\n          console.log('Unleash service initialized successfully');\n          console.log('Initial flags:', unleashService.getAllFlags(currentContext));\n        }\n\n      } catch (error) {\n        console.error('Failed to initialize Unleash service:', error);\n        // Continue with fallback flags\n        setIsInitialized(false);\n        setIsReady(true); // Still ready, just using defaults\n        setFlags({ ...DEFAULT_FEATURE_FLAGS, ...fallbackFlags });\n      }\n    };\n\n    initializeUnleash();\n  }, []); // Run once on mount\n\n  // Subscribe to flag updates\n  useEffect(() => {\n    const unsubscribe = unleashService.subscribe(() => {\n      if (enableLogging) {\n        console.log('Feature flags updated');\n      }\n      \n      setFlags(unleashService.getAllFlags(currentContext));\n      setStatus(unleashService.getStatus());\n    });\n\n    return unsubscribe;\n  }, [currentContext, enableLogging]);\n\n  // Memoized flag checking function\n  const isFeatureEnabled = useCallback((\n    flagName: keyof FeatureFlags, \n    context?: Record<string, string>\n  ): boolean => {\n    const mergedContext = { ...currentContext, ...context };\n    \n    if (!isInitialized) {\n      const fallbackValue = fallbackFlags[flagName] ?? DEFAULT_FEATURE_FLAGS[flagName];\n      if (enableLogging) {\n        console.log(`Feature flag ${flagName} checked (fallback): ${fallbackValue}`);\n      }\n      return fallbackValue;\n    }\n\n    const isEnabled = unleashService.isEnabled(flagName, mergedContext);\n    \n    if (enableLogging) {\n      console.log(`Feature flag ${flagName} checked: ${isEnabled}`);\n    }\n    \n    return isEnabled;\n  }, [isInitialized, currentContext, fallbackFlags, enableLogging]);\n\n  // Memoized variant getting function\n  const getFeatureVariant = useCallback((\n    flagName: keyof FeatureFlags, \n    context?: Record<string, string>\n  ): any => {\n    const mergedContext = { ...currentContext, ...context };\n    \n    if (!isInitialized) {\n      if (enableLogging) {\n        console.log(`Feature variant ${flagName} requested (fallback): null`);\n      }\n      return null;\n    }\n\n    const variant = unleashService.getVariant(flagName, mergedContext);\n    \n    if (enableLogging) {\n      console.log(`Feature variant ${flagName} requested:`, variant);\n    }\n    \n    return variant;\n  }, [isInitialized, currentContext, enableLogging]);\n\n  // Get all flags\n  const getAllFlags = useCallback((context?: Record<string, string>): FeatureFlags => {\n    const mergedContext = { ...currentContext, ...context };\n    \n    if (!isInitialized) {\n      return { ...DEFAULT_FEATURE_FLAGS, ...fallbackFlags };\n    }\n\n    return unleashService.getAllFlags(mergedContext);\n  }, [isInitialized, currentContext, fallbackFlags]);\n\n  // Get flags by category\n  const getFlagsByCategory = useCallback((\n    category: keyof typeof FEATURE_CATEGORIES, \n    context?: Record<string, string>\n  ): Partial<FeatureFlags> => {\n    const mergedContext = { ...currentContext, ...context };\n    \n    if (!isInitialized) {\n      const categoryFlags = FEATURE_CATEGORIES[category];\n      const result = {} as Partial<FeatureFlags>;\n      \n      categoryFlags.forEach(flagName => {\n        const key = flagName as keyof FeatureFlags;\n        result[key] = fallbackFlags[key] ?? DEFAULT_FEATURE_FLAGS[key];\n      });\n      \n      return result;\n    }\n\n    return unleashService.getFlagsByCategory(category, mergedContext);\n  }, [isInitialized, currentContext, fallbackFlags]);\n\n  // Update context\n  const updateContext = useCallback((newContext: Record<string, string>) => {\n    setCurrentContext(prev => ({ ...prev, ...newContext }));\n    \n    if (isInitialized) {\n      unleashService.updateContext(newContext);\n    }\n    \n    if (enableLogging) {\n      console.log('Feature flags context updated:', newContext);\n    }\n  }, [isInitialized, enableLogging]);\n\n  // Refresh flags manually\n  const refresh = useCallback(() => {\n    if (isInitialized) {\n      setFlags(unleashService.getAllFlags(currentContext));\n      setStatus(unleashService.getStatus());\n    }\n    \n    if (enableLogging) {\n      console.log('Feature flags refreshed manually');\n    }\n  }, [isInitialized, currentContext, enableLogging]);\n\n  // Context value\n  const contextValue: FeatureFlagsContextType = {\n    isFeatureEnabled,\n    getFeatureVariant,\n    getAllFlags,\n    getFlagsByCategory,\n    updateContext,\n    isReady,\n    isInitialized,\n    status,\n    refresh\n  };\n\n  // Log provider status changes\n  useEffect(() => {\n    if (enableLogging) {\n      console.log('FeatureFlagsProvider status:', {\n        isReady,\n        isInitialized,\n        flagCount: Object.keys(flags).length,\n        status\n      });\n    }\n  }, [isReady, isInitialized, flags, status, enableLogging]);\n\n  return (\n    <FeatureFlagsContext.Provider value={contextValue}>\n      {children}\n    </FeatureFlagsContext.Provider>\n  );\n};\n\n// Enhanced hook with better error handling\nexport const useFeatureFlags = () => {\n  const context = useContext(FeatureFlagsContext);\n  \n  if (context === undefined) {\n    throw new Error('useFeatureFlags must be used within a FeatureFlagsProvider');\n  }\n  \n  return context;\n};\n\n// Convenience hooks for common patterns\nexport const useFeatureFlag = (flagName: keyof FeatureFlags, context?: Record<string, string>) => {\n  const { isFeatureEnabled, getFeatureVariant } = useFeatureFlags();\n  \n  return {\n    isEnabled: isFeatureEnabled(flagName, context),\n    variant: getFeatureVariant(flagName, context)\n  };\n};\n\nexport const useFeatureFlagWithFallback = (\n  flagName: keyof FeatureFlags, \n  fallback: boolean = false,\n  context?: Record<string, string>\n) => {\n  const { isFeatureEnabled, isReady } = useFeatureFlags();\n  \n  if (!isReady) {\n    return fallback;\n  }\n  \n  return isFeatureEnabled(flagName, context);\n};\n\n// Clean up on unmount\nexport const FeatureFlagsCleanup: React.FC = () => {\n  useEffect(() => {\n    return () => {\n      unleashService.destroy();\n    };\n  }, []);\n  \n  return null;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}