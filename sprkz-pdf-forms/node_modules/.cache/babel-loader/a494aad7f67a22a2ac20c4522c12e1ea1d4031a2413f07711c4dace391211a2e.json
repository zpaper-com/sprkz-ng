{"ast":null,"code":"var _jsxFileName = \"/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/src/contexts/WizardContext.tsx\";\nimport React, { createContext, useContext, useReducer, useCallback, useEffect } from 'react';\nimport { useForm } from './FormContext';\nimport { useFeatureFlag } from '../hooks/useFeatureFlags';\n\n// Wizard States\n\n// Wizard Button States\n\n// Wizard Context State\n\n// Wizard Actions\n\n// Wizard Context Type\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WizardContext = /*#__PURE__*/createContext(undefined);\n\n// Initial state\nconst initialState = {\n  wizardState: 'idle',\n  currentFieldIndex: -1,\n  currentField: null,\n  requiredFields: [],\n  signatureFields: [],\n  completedFields: [],\n  totalRequiredFields: 0,\n  completionPercentage: 0,\n  isFormValid: false,\n  showFieldTooltip: false,\n  tooltipField: null\n};\n\n// Wizard reducer\nfunction wizardReducer(state, action) {\n  switch (action.type) {\n    case 'INITIALIZE':\n      {\n        const {\n          requiredFields,\n          signatureFields\n        } = action.payload;\n        return {\n          ...state,\n          requiredFields,\n          signatureFields,\n          totalRequiredFields: requiredFields.length,\n          wizardState: 'start'\n        };\n      }\n    case 'SET_WIZARD_STATE':\n      {\n        return {\n          ...state,\n          wizardState: action.payload\n        };\n      }\n    case 'SET_CURRENT_FIELD':\n      {\n        const {\n          field,\n          index\n        } = action.payload;\n        return {\n          ...state,\n          currentField: field,\n          currentFieldIndex: index\n        };\n      }\n    case 'FIELD_COMPLETED':\n      {\n        const fieldName = action.payload;\n        const completedFields = [...state.completedFields];\n        if (!completedFields.includes(fieldName)) {\n          completedFields.push(fieldName);\n        }\n        return {\n          ...state,\n          completedFields,\n          completionPercentage: Math.round(completedFields.length / Math.max(state.totalRequiredFields, 1) * 100)\n        };\n      }\n    case 'UPDATE_PROGRESS':\n      {\n        const {\n          completed,\n          percentage\n        } = action.payload;\n        return {\n          ...state,\n          completedFields: completed,\n          completionPercentage: percentage\n        };\n      }\n    case 'SET_FORM_VALID':\n      {\n        return {\n          ...state,\n          isFormValid: action.payload\n        };\n      }\n    case 'SHOW_TOOLTIP':\n      {\n        return {\n          ...state,\n          showFieldTooltip: true,\n          tooltipField: action.payload\n        };\n      }\n    case 'HIDE_TOOLTIP':\n      {\n        return {\n          ...state,\n          showFieldTooltip: false,\n          tooltipField: null\n        };\n      }\n    case 'RESET_WIZARD':\n      {\n        return {\n          ...initialState\n        };\n      }\n    default:\n      return state;\n  }\n}\n\n// Wizard Provider\nexport const WizardProvider = ({\n  children\n}) => {\n  const [state, dispatch] = useReducer(wizardReducer, initialState);\n  const formContext = useForm();\n\n  // Feature flags for wizard behavior\n  const {\n    isEnabled: enhancedWizardMode\n  } = useFeatureFlag('ENHANCED_WIZARD_MODE');\n  const {\n    isEnabled: progressiveFormFilling\n  } = useFeatureFlag('PROGRESSIVE_FORM_FILLING');\n  const {\n    isEnabled: smartFieldDetection\n  } = useFeatureFlag('SMART_FIELD_DETECTION');\n\n  // Show field tooltip\n  const showFieldTooltip = useCallback(field => {\n    dispatch({\n      type: 'SHOW_TOOLTIP',\n      payload: field\n    });\n  }, []);\n\n  // Hide field tooltip\n  const hideFieldTooltip = useCallback(() => {\n    dispatch({\n      type: 'HIDE_TOOLTIP'\n    });\n  }, []);\n\n  // Initialize wizard with form fields\n  const initializeWizard = useCallback(allFields => {\n    const requiredFields = allFields.filter(field => field.required && !field.readOnly);\n    const signatureFields = allFields.filter(field => field.type === 'signature' || field.name.toLowerCase().includes('signature') || field.name.toLowerCase().includes('sign'));\n    dispatch({\n      type: 'INITIALIZE',\n      payload: {\n        requiredFields,\n        signatureFields\n      }\n    });\n  }, []);\n\n  // Start the wizard\n  const startWizard = useCallback(() => {\n    const firstIncompleteField = state.requiredFields.find(field => !state.completedFields.includes(field.name));\n    if (firstIncompleteField) {\n      dispatch({\n        type: 'SET_CURRENT_FIELD',\n        payload: {\n          field: firstIncompleteField,\n          index: 0\n        }\n      });\n      dispatch({\n        type: 'SET_WIZARD_STATE',\n        payload: 'next'\n      });\n\n      // Show tooltip for the field\n      showFieldTooltip(firstIncompleteField);\n    } else {\n      // All required fields complete, check signatures\n      if (state.signatureFields.length > 0) {\n        dispatch({\n          type: 'SET_WIZARD_STATE',\n          payload: 'sign'\n        });\n      } else {\n        dispatch({\n          type: 'SET_WIZARD_STATE',\n          payload: 'submit'\n        });\n      }\n    }\n  }, [state.requiredFields, state.completedFields, state.signatureFields, showFieldTooltip]);\n\n  // Navigate to next field\n  const nextField = useCallback(() => {\n    const incompleteRequired = state.requiredFields.filter(field => !state.completedFields.includes(field.name));\n    if (incompleteRequired.length > 0) {\n      const nextField = incompleteRequired[0];\n      const fieldIndex = state.requiredFields.findIndex(f => f.name === nextField.name);\n      dispatch({\n        type: 'SET_CURRENT_FIELD',\n        payload: {\n          field: nextField,\n          index: fieldIndex\n        }\n      });\n      showFieldTooltip(nextField);\n    } else {\n      // All required fields complete\n      if (state.signatureFields.length > 0) {\n        const incompleteSignatures = state.signatureFields.filter(field => !state.completedFields.includes(field.name));\n        if (incompleteSignatures.length > 0) {\n          dispatch({\n            type: 'SET_WIZARD_STATE',\n            payload: 'sign'\n          });\n          const firstSignature = incompleteSignatures[0];\n          dispatch({\n            type: 'SET_CURRENT_FIELD',\n            payload: {\n              field: firstSignature,\n              index: 0\n            }\n          });\n          showFieldTooltip(firstSignature);\n        } else {\n          dispatch({\n            type: 'SET_WIZARD_STATE',\n            payload: 'submit'\n          });\n        }\n      } else {\n        dispatch({\n          type: 'SET_WIZARD_STATE',\n          payload: 'submit'\n        });\n      }\n    }\n  }, [state.requiredFields, state.signatureFields, state.completedFields, showFieldTooltip]);\n\n  // Go to signature fields\n  const goToSignatures = useCallback(() => {\n    if (state.signatureFields.length > 0) {\n      const firstIncompleteSignature = state.signatureFields.find(field => !state.completedFields.includes(field.name));\n      if (firstIncompleteSignature) {\n        dispatch({\n          type: 'SET_CURRENT_FIELD',\n          payload: {\n            field: firstIncompleteSignature,\n            index: 0\n          }\n        });\n        dispatch({\n          type: 'SET_WIZARD_STATE',\n          payload: 'sign'\n        });\n        showFieldTooltip(firstIncompleteSignature);\n      } else {\n        // All signatures complete\n        dispatch({\n          type: 'SET_WIZARD_STATE',\n          payload: 'submit'\n        });\n      }\n    }\n  }, [state.signatureFields, state.completedFields, showFieldTooltip]);\n\n  // Submit form\n  const submitForm = useCallback(() => {\n    if (state.isFormValid) {\n      dispatch({\n        type: 'SET_WIZARD_STATE',\n        payload: 'complete'\n      });\n      console.log('Form submitted successfully!');\n\n      // TODO: Implement actual form submission in Phase 7\n      alert('Form submission will be implemented in Phase 7. All fields completed!');\n    } else {\n      console.warn('Form is not valid for submission');\n    }\n  }, [state.isFormValid]);\n\n  // Jump to specific field\n  const jumpToField = useCallback(field => {\n    const fieldIndex = state.requiredFields.findIndex(f => f.name === field.name);\n    dispatch({\n      type: 'SET_CURRENT_FIELD',\n      payload: {\n        field,\n        index: fieldIndex >= 0 ? fieldIndex : 0\n      }\n    });\n\n    // Update wizard state based on field type\n    if (field.type === 'signature') {\n      dispatch({\n        type: 'SET_WIZARD_STATE',\n        payload: 'sign'\n      });\n    } else if (field.required) {\n      dispatch({\n        type: 'SET_WIZARD_STATE',\n        payload: 'next'\n      });\n    }\n    showFieldTooltip(field);\n  }, [state.requiredFields, showFieldTooltip]);\n\n  // Mark field as complete\n  const markFieldComplete = useCallback(fieldName => {\n    dispatch({\n      type: 'FIELD_COMPLETED',\n      payload: fieldName\n    });\n\n    // Update form context as well\n    formContext.markFieldComplete(fieldName);\n  }, [formContext]);\n\n  // Get current button state\n  const getCurrentButtonState = useCallback(() => {\n    switch (state.wizardState) {\n      case 'idle':\n      case 'start':\n        return {\n          text: 'Start',\n          color: 'primary',\n          // Blue\n          disabled: state.totalRequiredFields === 0,\n          action: startWizard\n        };\n      case 'next':\n        {\n          const incompleteRequired = state.requiredFields.filter(field => !state.completedFields.includes(field.name));\n          if (incompleteRequired.length > 0) {\n            return {\n              text: 'Next',\n              color: 'secondary',\n              // Orange\n              disabled: false,\n              action: nextField\n            };\n          } else {\n            // All required complete, check signatures\n            if (state.signatureFields.length > 0) {\n              return {\n                text: 'Sign',\n                color: 'info',\n                // Purple\n                disabled: false,\n                action: goToSignatures\n              };\n            } else {\n              return {\n                text: 'Submit',\n                color: 'success',\n                // Green\n                disabled: !state.isFormValid,\n                action: submitForm\n              };\n            }\n          }\n        }\n      case 'sign':\n        {\n          const incompleteSignatures = state.signatureFields.filter(field => !state.completedFields.includes(field.name));\n          if (incompleteSignatures.length > 0) {\n            return {\n              text: 'Sign',\n              color: 'info',\n              // Purple\n              disabled: false,\n              action: nextField\n            };\n          } else {\n            return {\n              text: 'Submit',\n              color: 'success',\n              // Green\n              disabled: !state.isFormValid,\n              action: submitForm\n            };\n          }\n        }\n      case 'submit':\n        return {\n          text: 'Submit',\n          color: 'success',\n          // Green\n          disabled: !state.isFormValid,\n          action: submitForm\n        };\n      case 'complete':\n        return {\n          text: 'Complete',\n          color: 'success',\n          // Green\n          disabled: true,\n          action: () => {}\n        };\n      default:\n        return {\n          text: 'Start',\n          color: 'primary',\n          disabled: true,\n          action: startWizard\n        };\n    }\n  }, [state.wizardState, state.requiredFields, state.signatureFields, state.completedFields, state.isFormValid, state.totalRequiredFields, startWizard, nextField, goToSignatures, submitForm]);\n\n  // Reset wizard\n  const resetWizard = useCallback(() => {\n    dispatch({\n      type: 'RESET_WIZARD'\n    });\n  }, []);\n\n  // Update form validity when form context changes\n  useEffect(() => {\n    const formValid = formContext.isFormValid();\n    dispatch({\n      type: 'SET_FORM_VALID',\n      payload: formValid\n    });\n  }, [formContext]);\n\n  // Update completion progress when form context changes\n  useEffect(() => {\n    const percentage = formContext.getCompletionPercentage();\n    const {\n      completed\n    } = formContext.getRequiredFieldsStatus();\n    dispatch({\n      type: 'UPDATE_PROGRESS',\n      payload: {\n        completed: Array.from(formContext.state.fields.keys()).filter(fieldName => formContext.state.completedFields.includes(fieldName)),\n        percentage\n      }\n    });\n  }, [formContext]);\n  const contextValue = {\n    state,\n    startWizard,\n    nextField,\n    goToSignatures,\n    submitForm,\n    jumpToField,\n    markFieldComplete,\n    getCurrentButtonState,\n    showFieldTooltip,\n    hideFieldTooltip,\n    resetWizard,\n    initializeWizard\n  };\n  return /*#__PURE__*/_jsxDEV(WizardContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 465,\n    columnNumber: 5\n  }, this);\n};\n\n// Hook to use wizard context\nexport const useWizard = () => {\n  const context = useContext(WizardContext);\n  if (context === undefined) {\n    throw new Error('useWizard must be used within a WizardProvider');\n  }\n  return context;\n};","map":{"version":3,"names":["React","createContext","useContext","useReducer","useCallback","useEffect","useForm","useFeatureFlag","jsxDEV","_jsxDEV","WizardContext","undefined","initialState","wizardState","currentFieldIndex","currentField","requiredFields","signatureFields","completedFields","totalRequiredFields","completionPercentage","isFormValid","showFieldTooltip","tooltipField","wizardReducer","state","action","type","payload","length","field","index","fieldName","includes","push","Math","round","max","completed","percentage","WizardProvider","children","dispatch","formContext","isEnabled","enhancedWizardMode","progressiveFormFilling","smartFieldDetection","hideFieldTooltip","initializeWizard","allFields","filter","required","readOnly","name","toLowerCase","startWizard","firstIncompleteField","find","nextField","incompleteRequired","fieldIndex","findIndex","f","incompleteSignatures","firstSignature","goToSignatures","firstIncompleteSignature","submitForm","console","log","alert","warn","jumpToField","markFieldComplete","getCurrentButtonState","text","color","disabled","resetWizard","formValid","getCompletionPercentage","getRequiredFieldsStatus","Array","from","fields","keys","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","useWizard","context","Error"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/src/contexts/WizardContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useCallback, useEffect } from 'react';\nimport { FormField } from '../types/pdf';\nimport { useForm } from './FormContext';\nimport { useFeatureFlag } from '../hooks/useFeatureFlags';\n\n// Wizard States\nexport type WizardState = 'idle' | 'start' | 'next' | 'sign' | 'submit' | 'complete';\n\n// Wizard Button States\nexport type WizardButtonState = {\n  text: string;\n  color: 'primary' | 'secondary' | 'success' | 'info' | 'warning' | 'error';\n  disabled: boolean;\n  action: () => void;\n};\n\n// Wizard Context State\ninterface WizardContextState {\n  wizardState: WizardState;\n  currentFieldIndex: number;\n  currentField: FormField | null;\n  requiredFields: FormField[];\n  signatureFields: FormField[];\n  completedFields: string[];\n  totalRequiredFields: number;\n  completionPercentage: number;\n  isFormValid: boolean;\n  showFieldTooltip: boolean;\n  tooltipField: FormField | null;\n}\n\n// Wizard Actions\ntype WizardAction =\n  | { type: 'INITIALIZE'; payload: { requiredFields: FormField[]; signatureFields: FormField[] } }\n  | { type: 'SET_WIZARD_STATE'; payload: WizardState }\n  | { type: 'SET_CURRENT_FIELD'; payload: { field: FormField | null; index: number } }\n  | { type: 'FIELD_COMPLETED'; payload: string }\n  | { type: 'UPDATE_PROGRESS'; payload: { completed: string[]; percentage: number } }\n  | { type: 'SET_FORM_VALID'; payload: boolean }\n  | { type: 'SHOW_TOOLTIP'; payload: FormField | null }\n  | { type: 'HIDE_TOOLTIP' }\n  | { type: 'RESET_WIZARD' };\n\n// Wizard Context Type\ninterface WizardContextType {\n  state: WizardContextState;\n  // Navigation\n  startWizard: () => void;\n  nextField: () => void;\n  goToSignatures: () => void;\n  submitForm: () => void;\n  jumpToField: (field: FormField) => void;\n  // Field management\n  markFieldComplete: (fieldName: string) => void;\n  getCurrentButtonState: () => WizardButtonState;\n  // Tooltip management\n  showFieldTooltip: (field: FormField) => void;\n  hideFieldTooltip: () => void;\n  // Utility\n  resetWizard: () => void;\n  initializeWizard: (allFields: FormField[]) => void;\n}\n\nconst WizardContext = createContext<WizardContextType | undefined>(undefined);\n\n// Initial state\nconst initialState: WizardContextState = {\n  wizardState: 'idle',\n  currentFieldIndex: -1,\n  currentField: null,\n  requiredFields: [],\n  signatureFields: [],\n  completedFields: [],\n  totalRequiredFields: 0,\n  completionPercentage: 0,\n  isFormValid: false,\n  showFieldTooltip: false,\n  tooltipField: null\n};\n\n// Wizard reducer\nfunction wizardReducer(state: WizardContextState, action: WizardAction): WizardContextState {\n  switch (action.type) {\n    case 'INITIALIZE': {\n      const { requiredFields, signatureFields } = action.payload;\n      return {\n        ...state,\n        requiredFields,\n        signatureFields,\n        totalRequiredFields: requiredFields.length,\n        wizardState: 'start'\n      };\n    }\n\n    case 'SET_WIZARD_STATE': {\n      return {\n        ...state,\n        wizardState: action.payload\n      };\n    }\n\n    case 'SET_CURRENT_FIELD': {\n      const { field, index } = action.payload;\n      return {\n        ...state,\n        currentField: field,\n        currentFieldIndex: index\n      };\n    }\n\n    case 'FIELD_COMPLETED': {\n      const fieldName = action.payload;\n      const completedFields = [...state.completedFields];\n      \n      if (!completedFields.includes(fieldName)) {\n        completedFields.push(fieldName);\n      }\n\n      return {\n        ...state,\n        completedFields,\n        completionPercentage: Math.round((completedFields.length / Math.max(state.totalRequiredFields, 1)) * 100)\n      };\n    }\n\n    case 'UPDATE_PROGRESS': {\n      const { completed, percentage } = action.payload;\n      return {\n        ...state,\n        completedFields: completed,\n        completionPercentage: percentage\n      };\n    }\n\n    case 'SET_FORM_VALID': {\n      return {\n        ...state,\n        isFormValid: action.payload\n      };\n    }\n\n    case 'SHOW_TOOLTIP': {\n      return {\n        ...state,\n        showFieldTooltip: true,\n        tooltipField: action.payload\n      };\n    }\n\n    case 'HIDE_TOOLTIP': {\n      return {\n        ...state,\n        showFieldTooltip: false,\n        tooltipField: null\n      };\n    }\n\n    case 'RESET_WIZARD': {\n      return {\n        ...initialState\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n// Wizard Provider\nexport const WizardProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(wizardReducer, initialState);\n  const formContext = useForm();\n  \n  // Feature flags for wizard behavior\n  const { isEnabled: enhancedWizardMode } = useFeatureFlag('ENHANCED_WIZARD_MODE');\n  const { isEnabled: progressiveFormFilling } = useFeatureFlag('PROGRESSIVE_FORM_FILLING');\n  const { isEnabled: smartFieldDetection } = useFeatureFlag('SMART_FIELD_DETECTION');\n  \n  // Show field tooltip\n  const showFieldTooltip = useCallback((field: FormField) => {\n    dispatch({ type: 'SHOW_TOOLTIP', payload: field });\n  }, []);\n\n  // Hide field tooltip\n  const hideFieldTooltip = useCallback(() => {\n    dispatch({ type: 'HIDE_TOOLTIP' });\n  }, []);\n\n  // Initialize wizard with form fields\n  const initializeWizard = useCallback((allFields: FormField[]) => {\n    const requiredFields = allFields.filter(field => field.required && !field.readOnly);\n    const signatureFields = allFields.filter(field => \n      field.type === 'signature' || \n      field.name.toLowerCase().includes('signature') ||\n      field.name.toLowerCase().includes('sign')\n    );\n\n    dispatch({\n      type: 'INITIALIZE',\n      payload: { requiredFields, signatureFields }\n    });\n  }, []);\n\n  // Start the wizard\n  const startWizard = useCallback(() => {\n    const firstIncompleteField = state.requiredFields.find(field => \n      !state.completedFields.includes(field.name)\n    );\n\n    if (firstIncompleteField) {\n      dispatch({\n        type: 'SET_CURRENT_FIELD',\n        payload: { field: firstIncompleteField, index: 0 }\n      });\n      dispatch({ type: 'SET_WIZARD_STATE', payload: 'next' });\n      \n      // Show tooltip for the field\n      showFieldTooltip(firstIncompleteField);\n    } else {\n      // All required fields complete, check signatures\n      if (state.signatureFields.length > 0) {\n        dispatch({ type: 'SET_WIZARD_STATE', payload: 'sign' });\n      } else {\n        dispatch({ type: 'SET_WIZARD_STATE', payload: 'submit' });\n      }\n    }\n  }, [state.requiredFields, state.completedFields, state.signatureFields, showFieldTooltip]);\n\n  // Navigate to next field\n  const nextField = useCallback(() => {\n    const incompleteRequired = state.requiredFields.filter(field => \n      !state.completedFields.includes(field.name)\n    );\n\n    if (incompleteRequired.length > 0) {\n      const nextField = incompleteRequired[0];\n      const fieldIndex = state.requiredFields.findIndex(f => f.name === nextField.name);\n      \n      dispatch({\n        type: 'SET_CURRENT_FIELD',\n        payload: { field: nextField, index: fieldIndex }\n      });\n      \n      showFieldTooltip(nextField);\n    } else {\n      // All required fields complete\n      if (state.signatureFields.length > 0) {\n        const incompleteSignatures = state.signatureFields.filter(field =>\n          !state.completedFields.includes(field.name)\n        );\n        \n        if (incompleteSignatures.length > 0) {\n          dispatch({ type: 'SET_WIZARD_STATE', payload: 'sign' });\n          const firstSignature = incompleteSignatures[0];\n          dispatch({\n            type: 'SET_CURRENT_FIELD',\n            payload: { field: firstSignature, index: 0 }\n          });\n          showFieldTooltip(firstSignature);\n        } else {\n          dispatch({ type: 'SET_WIZARD_STATE', payload: 'submit' });\n        }\n      } else {\n        dispatch({ type: 'SET_WIZARD_STATE', payload: 'submit' });\n      }\n    }\n  }, [state.requiredFields, state.signatureFields, state.completedFields, showFieldTooltip]);\n\n  // Go to signature fields\n  const goToSignatures = useCallback(() => {\n    if (state.signatureFields.length > 0) {\n      const firstIncompleteSignature = state.signatureFields.find(field =>\n        !state.completedFields.includes(field.name)\n      );\n\n      if (firstIncompleteSignature) {\n        dispatch({\n          type: 'SET_CURRENT_FIELD',\n          payload: { field: firstIncompleteSignature, index: 0 }\n        });\n        dispatch({ type: 'SET_WIZARD_STATE', payload: 'sign' });\n        showFieldTooltip(firstIncompleteSignature);\n      } else {\n        // All signatures complete\n        dispatch({ type: 'SET_WIZARD_STATE', payload: 'submit' });\n      }\n    }\n  }, [state.signatureFields, state.completedFields, showFieldTooltip]);\n\n  // Submit form\n  const submitForm = useCallback(() => {\n    if (state.isFormValid) {\n      dispatch({ type: 'SET_WIZARD_STATE', payload: 'complete' });\n      console.log('Form submitted successfully!');\n      \n      // TODO: Implement actual form submission in Phase 7\n      alert('Form submission will be implemented in Phase 7. All fields completed!');\n    } else {\n      console.warn('Form is not valid for submission');\n    }\n  }, [state.isFormValid]);\n\n  // Jump to specific field\n  const jumpToField = useCallback((field: FormField) => {\n    const fieldIndex = state.requiredFields.findIndex(f => f.name === field.name);\n    \n    dispatch({\n      type: 'SET_CURRENT_FIELD',\n      payload: { field, index: fieldIndex >= 0 ? fieldIndex : 0 }\n    });\n\n    // Update wizard state based on field type\n    if (field.type === 'signature') {\n      dispatch({ type: 'SET_WIZARD_STATE', payload: 'sign' });\n    } else if (field.required) {\n      dispatch({ type: 'SET_WIZARD_STATE', payload: 'next' });\n    }\n\n    showFieldTooltip(field);\n  }, [state.requiredFields, showFieldTooltip]);\n\n  // Mark field as complete\n  const markFieldComplete = useCallback((fieldName: string) => {\n    dispatch({ type: 'FIELD_COMPLETED', payload: fieldName });\n    \n    // Update form context as well\n    formContext.markFieldComplete(fieldName);\n  }, [formContext]);\n\n  // Get current button state\n  const getCurrentButtonState = useCallback((): WizardButtonState => {\n    switch (state.wizardState) {\n      case 'idle':\n      case 'start':\n        return {\n          text: 'Start',\n          color: 'primary', // Blue\n          disabled: state.totalRequiredFields === 0,\n          action: startWizard\n        };\n\n      case 'next': {\n        const incompleteRequired = state.requiredFields.filter(field => \n          !state.completedFields.includes(field.name)\n        );\n        \n        if (incompleteRequired.length > 0) {\n          return {\n            text: 'Next',\n            color: 'secondary', // Orange\n            disabled: false,\n            action: nextField\n          };\n        } else {\n          // All required complete, check signatures\n          if (state.signatureFields.length > 0) {\n            return {\n              text: 'Sign',\n              color: 'info', // Purple\n              disabled: false,\n              action: goToSignatures\n            };\n          } else {\n            return {\n              text: 'Submit',\n              color: 'success', // Green\n              disabled: !state.isFormValid,\n              action: submitForm\n            };\n          }\n        }\n      }\n\n      case 'sign': {\n        const incompleteSignatures = state.signatureFields.filter(field =>\n          !state.completedFields.includes(field.name)\n        );\n        \n        if (incompleteSignatures.length > 0) {\n          return {\n            text: 'Sign',\n            color: 'info', // Purple\n            disabled: false,\n            action: nextField\n          };\n        } else {\n          return {\n            text: 'Submit',\n            color: 'success', // Green\n            disabled: !state.isFormValid,\n            action: submitForm\n          };\n        }\n      }\n\n      case 'submit':\n        return {\n          text: 'Submit',\n          color: 'success', // Green\n          disabled: !state.isFormValid,\n          action: submitForm\n        };\n\n      case 'complete':\n        return {\n          text: 'Complete',\n          color: 'success', // Green\n          disabled: true,\n          action: () => {}\n        };\n\n      default:\n        return {\n          text: 'Start',\n          color: 'primary',\n          disabled: true,\n          action: startWizard\n        };\n    }\n  }, [state.wizardState, state.requiredFields, state.signatureFields, state.completedFields, state.isFormValid, state.totalRequiredFields, startWizard, nextField, goToSignatures, submitForm]);\n\n  // Reset wizard\n  const resetWizard = useCallback(() => {\n    dispatch({ type: 'RESET_WIZARD' });\n  }, []);\n\n  // Update form validity when form context changes\n  useEffect(() => {\n    const formValid = formContext.isFormValid();\n    dispatch({ type: 'SET_FORM_VALID', payload: formValid });\n  }, [formContext]);\n\n  // Update completion progress when form context changes\n  useEffect(() => {\n    const percentage = formContext.getCompletionPercentage();\n    const { completed } = formContext.getRequiredFieldsStatus();\n    \n    dispatch({\n      type: 'UPDATE_PROGRESS',\n      payload: {\n        completed: Array.from(formContext.state.fields.keys()).filter(fieldName =>\n          formContext.state.completedFields.includes(fieldName)\n        ),\n        percentage\n      }\n    });\n  }, [formContext]);\n\n  const contextValue: WizardContextType = {\n    state,\n    startWizard,\n    nextField,\n    goToSignatures,\n    submitForm,\n    jumpToField,\n    markFieldComplete,\n    getCurrentButtonState,\n    showFieldTooltip,\n    hideFieldTooltip,\n    resetWizard,\n    initializeWizard\n  };\n\n  return (\n    <WizardContext.Provider value={contextValue}>\n      {children}\n    </WizardContext.Provider>\n  );\n};\n\n// Hook to use wizard context\nexport const useWizard = () => {\n  const context = useContext(WizardContext);\n  if (context === undefined) {\n    throw new Error('useWizard must be used within a WizardProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}