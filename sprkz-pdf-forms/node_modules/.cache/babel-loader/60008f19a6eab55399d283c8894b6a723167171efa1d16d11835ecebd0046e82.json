{"ast":null,"code":"import { defineIntegration, _INTERNAL_copyFlagsFromScopeToEvent, _INTERNAL_insertFlagToScope, _INTERNAL_addFeatureFlagToActiveSpan } from '@sentry/core';\n\n/**\n * Sentry integration for capturing feature flag evaluations from the Statsig js-client SDK.\n *\n * See the [feature flag documentation](https://develop.sentry.dev/sdk/expected-features/#feature-flags) for more information.\n *\n * @example\n * ```\n * import { StatsigClient } from '@statsig/js-client';\n * import * as Sentry from '@sentry/browser';\n *\n * const statsigClient = new StatsigClient();\n *\n * Sentry.init({\n *   dsn: '___PUBLIC_DSN___',\n *   integrations: [Sentry.statsigIntegration({featureFlagClient: statsigClient})],\n * });\n *\n * await statsigClient.initializeAsync();  // or statsigClient.initializeSync();\n *\n * const result = statsigClient.checkGate('my-feature-gate');\n * Sentry.captureException(new Error('something went wrong'));\n * ```\n */\nconst statsigIntegration = defineIntegration(({\n  featureFlagClient: statsigClient\n}) => {\n  return {\n    name: 'Statsig',\n    setup(_client) {\n      statsigClient.on('gate_evaluation', event => {\n        _INTERNAL_insertFlagToScope(event.gate.name, event.gate.value);\n        _INTERNAL_addFeatureFlagToActiveSpan(event.gate.name, event.gate.value);\n      });\n    },\n    processEvent(event, _hint, _client) {\n      return _INTERNAL_copyFlagsFromScopeToEvent(event);\n    }\n  };\n});\nexport { statsigIntegration };","map":{"version":3,"names":["statsigIntegration","defineIntegration","featureFlagClient","statsigClient","name","setup","_client","on","event","_INTERNAL_insertFlagToScope","gate","value","_INTERNAL_addFeatureFlagToActiveSpan","processEvent","_hint","_INTERNAL_copyFlagsFromScopeToEvent"],"sources":["/home/shawnstorie/sprkz-ng/sprkz-pdf-forms/node_modules/@sentry/browser/src/integrations/featureFlags/statsig/integration.ts"],"sourcesContent":["import type { Client, Event, EventHint, IntegrationFn } from '@sentry/core';\nimport {\n  _INTERNAL_addFeatureFlagToActiveSpan,\n  _INTERNAL_copyFlagsFromScopeToEvent,\n  _INTERNAL_insertFlagToScope,\n  defineIntegration,\n} from '@sentry/core';\nimport type { FeatureGate, StatsigClient } from './types';\n\n/**\n * Sentry integration for capturing feature flag evaluations from the Statsig js-client SDK.\n *\n * See the [feature flag documentation](https://develop.sentry.dev/sdk/expected-features/#feature-flags) for more information.\n *\n * @example\n * ```\n * import { StatsigClient } from '@statsig/js-client';\n * import * as Sentry from '@sentry/browser';\n *\n * const statsigClient = new StatsigClient();\n *\n * Sentry.init({\n *   dsn: '___PUBLIC_DSN___',\n *   integrations: [Sentry.statsigIntegration({featureFlagClient: statsigClient})],\n * });\n *\n * await statsigClient.initializeAsync();  // or statsigClient.initializeSync();\n *\n * const result = statsigClient.checkGate('my-feature-gate');\n * Sentry.captureException(new Error('something went wrong'));\n * ```\n */\nexport const statsigIntegration = defineIntegration(\n  ({ featureFlagClient: statsigClient }: { featureFlagClient: StatsigClient }) => {\n    return {\n      name: 'Statsig',\n\n      setup(_client: Client) {\n        statsigClient.on('gate_evaluation', (event: { gate: FeatureGate }) => {\n          _INTERNAL_insertFlagToScope(event.gate.name, event.gate.value);\n          _INTERNAL_addFeatureFlagToActiveSpan(event.gate.name, event.gate.value);\n        });\n      },\n\n      processEvent(event: Event, _hint: EventHint, _client: Client): Event {\n        return _INTERNAL_copyFlagsFromScopeToEvent(event);\n      },\n    };\n  },\n) satisfies IntegrationFn;\n"],"mappings":";;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,kBAAA,GAAqBC,iBAAiB,CACjD,CAAC;EAAEC,iBAAiB,EAAEC;AAAA,CAAe,KAA2C;EAC9E,OAAO;IACLC,IAAI,EAAE,SAAS;IAEfC,KAAKA,CAACC,OAAO,EAAU;MACrBH,aAAa,CAACI,EAAE,CAAC,iBAAiB,EAAGC,KAAK,IAA4B;QACpEC,2BAA2B,CAACD,KAAK,CAACE,IAAI,CAACN,IAAI,EAAEI,KAAK,CAACE,IAAI,CAACC,KAAK,CAAC;QAC9DC,oCAAoC,CAACJ,KAAK,CAACE,IAAI,CAACN,IAAI,EAAEI,KAAK,CAACE,IAAI,CAACC,KAAK,CAAC;MACjF,CAAS,CAAC;IACV,CAAO;IAEDE,YAAYA,CAACL,KAAK,EAASM,KAAK,EAAaR,OAAO,EAAiB;MACnE,OAAOS,mCAAmC,CAACP,KAAK,CAAC;IACzD;EACA,CAAK;AACL,CACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}