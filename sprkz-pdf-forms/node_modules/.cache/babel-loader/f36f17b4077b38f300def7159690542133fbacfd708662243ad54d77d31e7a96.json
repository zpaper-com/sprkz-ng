{"ast":null,"code":"import React from'react';import{Box,Paper,Typography,LinearProgress,Chip,Divider,List,ListItem,ListItemIcon,ListItemText,Collapse,IconButton,useTheme}from'@mui/material';import{CheckCircle,RadioButtonUnchecked,Edit,ExpandMore,ExpandLess,Assignment,Verified}from'@mui/icons-material';import{useWizard}from'../../contexts/WizardContext';import{useForm}from'../../contexts/FormContext';import{microInteractionStyles,presets,createMicroInteraction}from'../../utils/microInteractions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ProgressTracker=_ref=>{let{compact=false,showFieldList=false,showStats=true,className}=_ref;const theme=useTheme();const wizard=useWizard();const form=useForm();const[expanded,setExpanded]=React.useState(false);const handleExpandClick=()=>{setExpanded(!expanded);};// Get progress color\nconst getProgressColor=()=>{const percentage=wizard.state.completionPercentage;if(percentage>=100)return'success';if(percentage>=75)return'info';if(percentage>=50)return'warning';return'primary';};// Get field status icon\nconst getFieldStatusIcon=function(fieldName){let isSignature=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const isComplete=wizard.state.completedFields.includes(fieldName);if(isComplete){return/*#__PURE__*/_jsx(CheckCircle,{color:\"success\",fontSize:\"small\"});}if(isSignature){return/*#__PURE__*/_jsx(Edit,{color:\"info\",fontSize:\"small\"});}return/*#__PURE__*/_jsx(RadioButtonUnchecked,{color:\"action\",fontSize:\"small\"});};// Get field display name\nconst getFieldDisplayName=fieldName=>{return(fieldName||'Unknown Field').replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());};// Count field types\nconst fieldStats={totalRequired:wizard.state.requiredFields.length,totalSignatures:wizard.state.signatureFields.length,completedRequired:wizard.state.requiredFields.filter(f=>wizard.state.completedFields.includes(f.name)).length,completedSignatures:wizard.state.signatureFields.filter(f=>wizard.state.completedFields.includes(f.name)).length};if(compact){return/*#__PURE__*/_jsxs(Box,{className:className,sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:wizard.state.completionPercentage,color:getProgressColor(),sx:{flex:1,height:8,borderRadius:4}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",sx:{minWidth:40},children:[wizard.state.completionPercentage,\"%\"]})]});}return/*#__PURE__*/_jsxs(Paper,{className:className,elevation:2,sx:{p:2,...presets.card},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Assignment,{color:\"primary\"}),\"Form Progress\"]}),showFieldList&&/*#__PURE__*/_jsx(IconButton,{onClick:handleExpandClick,size:\"small\",sx:presets.iconButton,children:expanded?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Overall Progress\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",color:`${getProgressColor()}.main`,children:[wizard.state.completionPercentage,\"%\"]})]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:wizard.state.completionPercentage,color:getProgressColor(),sx:{height:12,borderRadius:6,'& .MuiLinearProgress-bar':{borderRadius:6},...createMicroInteraction.progressFill(wizard.state.completionPercentage,1200)}})]}),showStats&&/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,mb:1},children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(Assignment,{}),label:`${fieldStats.completedRequired}/${fieldStats.totalRequired} Required`,size:\"small\",color:fieldStats.completedRequired===fieldStats.totalRequired?'success':'default',variant:fieldStats.completedRequired===fieldStats.totalRequired?'filled':'outlined',sx:fieldStats.completedRequired===fieldStats.totalRequired?microInteractionStyles.successBounce:microInteractionStyles.hoverScale}),fieldStats.totalSignatures>0&&/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(Verified,{}),label:`${fieldStats.completedSignatures}/${fieldStats.totalSignatures} Signatures`,size:\"small\",color:fieldStats.completedSignatures===fieldStats.totalSignatures?'success':'info',variant:fieldStats.completedSignatures===fieldStats.totalSignatures?'filled':'outlined'})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"textSecondary\",display:\"block\",children:[wizard.state.completedFields.length,\" of \",wizard.state.totalRequiredFields+fieldStats.totalSignatures,\" fields completed\"]})]}),wizard.state.currentField&&/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Divider,{sx:{mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"primary.main\",gutterBottom:true,children:\"Current Field\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[getFieldStatusIcon(wizard.state.currentField.name,wizard.state.currentField.type==='signature'),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getFieldDisplayName(wizard.state.currentField.name)}),/*#__PURE__*/_jsx(Chip,{label:`Page ${wizard.state.currentField.page}`,size:\"small\",variant:\"outlined\"})]})]}),showFieldList&&/*#__PURE__*/_jsxs(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true,children:[/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),wizard.state.requiredFields.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",color:\"textSecondary\",gutterBottom:true,children:[\"Required Fields (\",fieldStats.completedRequired,\"/\",fieldStats.totalRequired,\")\"]}),/*#__PURE__*/_jsx(List,{dense:true,sx:{py:0},children:wizard.state.requiredFields.map(field=>/*#__PURE__*/_jsxs(ListItem,{sx:{py:0.5,px:0,cursor:!wizard.state.completedFields.includes(field.name)?'pointer':'default'},onClick:!wizard.state.completedFields.includes(field.name)?()=>wizard.jumpToField(field):undefined,children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:32},children:getFieldStatusIcon(field.name)}),/*#__PURE__*/_jsx(ListItemText,{primary:getFieldDisplayName(field.name),secondary:`Page ${field.page}`,sx:{'& .MuiListItemText-primary':{fontSize:'0.875rem',textDecoration:wizard.state.completedFields.includes(field.name)?'line-through':'none',color:wizard.state.completedFields.includes(field.name)?'text.secondary':'text.primary'},'& .MuiListItemText-secondary':{fontSize:'0.75rem'}}})]},field.name))})]}),wizard.state.signatureFields.length>0&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",color:\"textSecondary\",gutterBottom:true,children:[\"Signature Fields (\",fieldStats.completedSignatures,\"/\",fieldStats.totalSignatures,\")\"]}),/*#__PURE__*/_jsx(List,{dense:true,sx:{py:0},children:wizard.state.signatureFields.map(field=>/*#__PURE__*/_jsxs(ListItem,{sx:{py:0.5,px:0,cursor:!wizard.state.completedFields.includes(field.name)?'pointer':'default'},onClick:!wizard.state.completedFields.includes(field.name)?()=>wizard.jumpToField(field):undefined,children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:32},children:getFieldStatusIcon(field.name,true)}),/*#__PURE__*/_jsx(ListItemText,{primary:getFieldDisplayName(field.name),secondary:`Page ${field.page}`,sx:{'& .MuiListItemText-primary':{fontSize:'0.875rem',textDecoration:wizard.state.completedFields.includes(field.name)?'line-through':'none',color:wizard.state.completedFields.includes(field.name)?'text.secondary':'text.primary'},'& .MuiListItemText-secondary':{fontSize:'0.75rem'}}})]},field.name))})]})]})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}