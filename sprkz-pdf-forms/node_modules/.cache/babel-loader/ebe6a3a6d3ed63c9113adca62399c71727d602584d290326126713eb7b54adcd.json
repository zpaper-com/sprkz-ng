{"ast":null,"code":"const SPAN_STATUS_UNSET = 0;\nconst SPAN_STATUS_OK = 1;\nconst SPAN_STATUS_ERROR = 2;\n\n/**\n * Converts a HTTP status code into a sentry status with a message.\n *\n * @param httpStatus The HTTP response status code.\n * @returns The span status or unknown_error.\n */\n// https://develop.sentry.dev/sdk/event-payloads/span/\nfunction getSpanStatusFromHttpCode(httpStatus) {\n  if (httpStatus < 400 && httpStatus >= 100) {\n    return {\n      code: SPAN_STATUS_OK\n    };\n  }\n  if (httpStatus >= 400 && httpStatus < 500) {\n    switch (httpStatus) {\n      case 401:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'unauthenticated'\n        };\n      case 403:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'permission_denied'\n        };\n      case 404:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'not_found'\n        };\n      case 409:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'already_exists'\n        };\n      case 413:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'failed_precondition'\n        };\n      case 429:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'resource_exhausted'\n        };\n      case 499:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'cancelled'\n        };\n      default:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'invalid_argument'\n        };\n    }\n  }\n  if (httpStatus >= 500 && httpStatus < 600) {\n    switch (httpStatus) {\n      case 501:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'unimplemented'\n        };\n      case 503:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'unavailable'\n        };\n      case 504:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'deadline_exceeded'\n        };\n      default:\n        return {\n          code: SPAN_STATUS_ERROR,\n          message: 'internal_error'\n        };\n    }\n  }\n  return {\n    code: SPAN_STATUS_ERROR,\n    message: 'unknown_error'\n  };\n}\n\n/**\n * Sets the Http status attributes on the current span based on the http code.\n * Additionally, the span's status is updated, depending on the http code.\n */\nfunction setHttpStatus(span, httpStatus) {\n  span.setAttribute('http.response.status_code', httpStatus);\n  const spanStatus = getSpanStatusFromHttpCode(httpStatus);\n  if (spanStatus.message !== 'unknown_error') {\n    span.setStatus(spanStatus);\n  }\n}\nexport { SPAN_STATUS_ERROR, SPAN_STATUS_OK, SPAN_STATUS_UNSET, getSpanStatusFromHttpCode, setHttpStatus };\n//# sourceMappingURL=spanstatus.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}